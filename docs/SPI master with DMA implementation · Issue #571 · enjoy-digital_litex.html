<!DOCTYPE html>
<!-- saved from url=(0049)https://github.com/enjoy-digital/litex/issues/571 -->
<html lang="en" data-color-mode="dark" data-light-theme="light" data-dark-theme="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  <link rel="dns-prefetch" href="https://github.githubassets.com/">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-0whBPi3qwKabetUSFIhPtX5zopz6VnZPy+8gBr51dRNWDOJZUgfUNlin1hP+8STkppjfP9kWKsivtzuvLFMn+w==" rel="stylesheet" href="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/frameworks-d308413e2deac0a69b7ad51214884fb5.css">
  
    <link crossorigin="anonymous" media="all" integrity="sha512-SKgQOC+z7Bt6LDxn0c9ts0gmY9ibJF/cQVuOwREBPdoGcbPVfQqpsrMBNWFg7NrP/rGdbeCDVDLU89YcZfyJlg==" rel="stylesheet" href="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/behaviors-48a810382fb3ec1b7a2c3c67d1cf6db3.css">
    
    
    
    <link crossorigin="anonymous" media="all" integrity="sha512-1xL+YusM/qyTTf+0z47MygYOkVbL9pwDka8Ys5ZkN3g3NlaAIVsHu6Vp2wz/eSqr/9jhmqnj3o0FEq84Hkkjsw==" rel="stylesheet" href="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/github-d712fe62eb0cfeac934dffb4cf8eccca.css">

  <script crossorigin="anonymous" defer="defer" integrity="sha512-CzeY4A6TiG4fGZSWZU8FxmzFFmcQFoPpArF0hkH0/J/S7UL4eed/LKEXMQXfTwiG5yEJBI+9BdKG8KQJNbhcIQ==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/environment-0b3798e0.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-IK3YFahDBTuoENbqq3ZAfDZnBrfSC3qdiUEGdRdDqm2HTSj2s9YynLxdZPgRJ5LXTvPR9jVkBCkz8PQRvaXb/A==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-frameworks-20add815.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-YufdcMb4hh5uM2JSDx/MEATxourBQILRY0+74aM14JruGbjAyRYNY7hr/9+MOvY/ItDDo5pyqG/MHZr+5zZKHg==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-vendor-62e7dd70.js"></script>
  
  <script crossorigin="anonymous" defer="defer" integrity="sha512-fzm6fdBFKkyZgz4ay2myWhfa4w/aK++C1lzjW6Nuvj+qgK2qL/Pf/BziAqb3TPHJkjtx9HX3cLYGuvf2EDAOgw==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/behaviors-7f39ba7d.js"></script>
  
    <script crossorigin="anonymous" defer="defer" integrity="sha512-VuP/2HeHlwuxYb9sV0y9/hgN869dWIQDX2WZrvh4VAQjo6tb7PXzbBz0nOYROez0xFLxRc/u6sVU6fuYgcpN8w==" type="application/javascript" data-module-id="./chunk-animate-on-scroll.js" data-src="https://github.githubassets.com/assets/chunk-animate-on-scroll-56e3ffd8.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ct3QiK2mvpg7zor9R2psdWnNMM2K32RU4RGRB/7yA5FyZ8H4iY6SNynXc7UaJqzBx6NaReg3GsWJPwW3kgAAig==" type="application/javascript" data-module-id="./chunk-codemirror.js" data-src="https://github.githubassets.com/assets/chunk-codemirror-72ddd088.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-9UuJ//O9hwCOI7MwzyVAJXn1D9B0WaQFktu5Qzw+7mg18URfaXXS7LsQVNirCGlgrmKe20UCtbj/4aGmw9Wk7g==" type="application/javascript" data-module-id="./chunk-color-modes.js" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-color-modes-f54b89ff.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-zkYZSjUFqSifB+Lt76jclFMrfqpcPqevT801RZcoBNCZHRTBKcFrW9OyJoPOzKFv+fZVDRnqdqGsuIv5KOIgZg==" type="application/javascript" data-module-id="./chunk-contributions-spider-graph.js" data-src="https://github.githubassets.com/assets/chunk-contributions-spider-graph-ce46194a.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-6j/oSF+kbW+yetNPvI684VzAu9pzug6Vj2h+3u1LdCuRhR4jnuiHZfeQKls3nxcT/S3H+oIt7FtigE/aeoj+gg==" type="application/javascript" data-module-id="./chunk-drag-drop.js" data-src="https://github.githubassets.com/assets/chunk-drag-drop-ea3fe848.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-VSSd+Yzi2iMS+pibY6hD/WdypxAEdob5F2RMKxuKcAHS2EpFYJPeTXoVxt0NXg03tfj2dka2mEtHS+vjpYSaDw==" type="application/javascript" data-module-id="./chunk-edit-hook-secret-element.js" data-src="https://github.githubassets.com/assets/chunk-edit-hook-secret-element-55249df9.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-N+ziqJjVMfWiqeVHdayDHpNRlG5HsF+cgV+pFnMDoTJuvBzgw+ndsepe4NcKAxIS3WMvzMaQcYmd2vrIaoAJVg==" type="application/javascript" data-module-id="./chunk-edit.js" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-edit-37ece2a8.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-aiqMIGGZGo8AQMjcoImKPMTsZVVRl6htCSY7BpRmpGPG/AF+Wq+P/Oj/dthWQOIk9cCNMPEas7O2zAR6oqn0tA==" type="application/javascript" data-module-id="./chunk-emoji-picker-element.js" data-src="https://github.githubassets.com/assets/chunk-emoji-picker-element-6a2a8c20.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ejCT9r9E93nir+wK3PibZdMK0J3VXEkbwlgdnOnaUNoiJDI60BMtFt1QwjMU/rLXcjnH0xvgVFINGBFkzvTmRw==" type="application/javascript" data-module-id="./chunk-filter-input.js" data-src="https://github.githubassets.com/assets/chunk-filter-input-7a3093f6.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Z1wcyOFQHzyMSPqp5DLKrobr3DN2Q6Dz31cfPtw4b2vPs9PX0PrxyDXHpTbIlcZ9qT1M1BNAypHKKw8Lp6Yx/Q==" type="application/javascript" data-module-id="./chunk-insights-graph.js" data-src="https://github.githubassets.com/assets/chunk-insights-graph-675c1cc8.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-4iRI95LO0kKcZLWUoOzqI6w8IVGppDVluR4dL7yyz8zgBu/7JAib0MkRN5LUVxXv0KIT6mQ2m5jbKa1NeZoD5A==" type="application/javascript" data-module-id="./chunk-invitations.js" data-src="https://github.githubassets.com/assets/chunk-invitations-e22448f7.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Dhn0P9aANkDPzMxpqETLGel8ELkO93wrLFrMnEOSg8DguOxR7UNY1MyL3lexSVWo/ZZvme3kcWTaM6gw/DJW1w==" type="application/javascript" data-module-id="./chunk-jump-to.js" data-src="https://github.githubassets.com/assets/chunk-jump-to-0e19f43f.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-0DSZHh/iD27pAOXl4AWcxPqgRsJAVr1M8SnaN4gKYH2ZplPywvL5oalqN4Qj03FsB5Ll0pytD5kiTMibgGq0BA==" type="application/javascript" data-module-id="./chunk-launch-code-element.js" data-src="https://github.githubassets.com/assets/chunk-launch-code-element-d034991e.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-RduaLAviB2ygvRK/eX5iwzYO43ie7svrJ0rYJs06x7XqpRl/IK8PPBscBWM9Moo5Z86DK2iRLE2+aR7TJ5Uc2Q==" type="application/javascript" data-module-id="./chunk-metric-selection-element.js" data-src="https://github.githubassets.com/assets/chunk-metric-selection-element-45db9a2c.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Lo0j1owPfYM0txt85KwGzF1PQJLvLFGbRJoASd5ZKMQAV9ZSDg5bVm5UWBAz7glGzw1pkiUD2bCMs2wqyf+CEA==" type="application/javascript" data-module-id="./chunk-notification-list-focus.js" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-notification-list-focus-2e8d23d6.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-ma0OOy3nj0c1cqBx0BkcmIFsLqcSZ+MIukQxyEFM/OWTzZpG+QMgOoWPAHZz43M6fyjAUG1jH6c/6LPiiKPCyw==" type="application/javascript" data-module-id="./chunk-profile-pins-element.js" data-src="https://github.githubassets.com/assets/chunk-profile-pins-element-99ad0e3b.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-/kPLzWIe41nxla5A+wcKKPIw4xiAsuITdjbXGVCycmUYnADfCids8FdV+TCA68gr4jAhKIws7flLpL12MoouBA==" type="application/javascript" data-module-id="./chunk-readme-toc-element.js" data-src="https://github.githubassets.com/assets/chunk-readme-toc-element-fe43cbcd.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-F0E2A5YYSz+7eA/RyQ/vYtJzeK2sjNyyneVBqru/CPoRXGBiAcJ2tpN2MWLxkNCqirt88h/BMCAF/7YTZ2qZJA==" type="application/javascript" data-module-id="./chunk-ref-selector.js" data-src="https://github.githubassets.com/assets/chunk-ref-selector-17413603.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-Zii9oRdZ6q2QDNjL5A+me7jwJjMLvs1NiQNHmajUZnn4t9shcBDb4F8l/PQZW26eYfe5065oM7lIOSmbMinA7Q==" type="application/javascript" data-module-id="./chunk-responsive-underlinenav.js" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-responsive-underlinenav-6628bda1.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-UUeOf6fdSNCh5PEil2eqo9JMci+9FbJ2YdzZ1rE8fFMYtanaPRRJSidxpPbnl16jxAuQo0QzosPRMKbiFuN0sQ==" type="application/javascript" data-module-id="./chunk-runner-groups.js" data-src="https://github.githubassets.com/assets/chunk-runner-groups-51478e7f.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-tk76eoSLUqXSVZ8ANzPprrOImFIV1zQ/VBV+WzG8ZjZpVPH8cLkMH/ur5HJB1lxx9/yo+V2wjDF96t4qfUwZLA==" type="application/javascript" data-module-id="./chunk-severity-calculator-element.js" data-src="https://github.githubassets.com/assets/chunk-severity-calculator-element-b64efa7a.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-fIq9Mn7jY/bHQXnsmh+VejpDnaO+d/FDxsp+4CuZtdNLrLuO+dQCjh+m6Yd8GCYD2Cy6DWbCEyM+mH2dkB2H9A==" type="application/javascript" data-module-id="./chunk-sortable-behavior.js" data-src="https://github.githubassets.com/assets/chunk-sortable-behavior-7c8abd32.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-WK8VXw3lfUQ/VRW0zlgKPhcMUqH0uTnB/KzePUPdZhCm/HpxfXXHKTGvj5C0Oex7+zbIM2ECzULbtTCT4ug3yg==" type="application/javascript" data-module-id="./chunk-toast.js" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/chunk-toast-58af155f.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-vgHJEmEJxNmHucGbVY8bEUoOYo5/ZwpQ69rU8Dld89daWJ54uad9lNptxq32F8pnbHhdngw9lohNEbMbjmj5AQ==" type="application/javascript" data-module-id="./chunk-tweetsodium.js" data-src="https://github.githubassets.com/assets/chunk-tweetsodium-be01c912.js"></script>
    <script crossorigin="anonymous" defer="defer" integrity="sha512-a+Pr9qPUoA3j8O0EiWfWwxWH4ZiB1fweLkYrjYlvyy/SeJbcjR1B4UyYjypFb9kvoy7I2bwXU9ctjZInmlyBXg==" type="application/javascript" data-module-id="./chunk-user-status-submit.js" data-src="https://github.githubassets.com/assets/chunk-user-status-submit-6be3ebf6.js"></script>
  
  <script crossorigin="anonymous" defer="defer" integrity="sha512-5RzLvbfuQSCePOSnUGiea/5PQlZqghF+yglx1FDctjt0yFsrMJi8tsPjBSxb+I+Mc9RfgGCwnCmY1PtQWAIBBA==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/issues-e51ccbbd.js"></script>
<script crossorigin="anonymous" defer="defer" integrity="sha512-VupbTryGTUXd3k9Yq8szvcNdFdgkj5epSK6VVnglxdZTS0cjxpbHXraxNJY7pbU5wbaylVTqycXhCg2r3Gr9vg==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/issue-to-discussion-conversions-56ea5b4e.js"></script>
<script crossorigin="anonymous" defer="defer" integrity="sha512-cuDaJoSujmKNFM0IJheh/W7Orq59sjCs84NAYLiRQzt+RvehPdvZSOrO6xHrl3CcWrPZmt8GScnq2elSuL1VGA==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/structured-issues-72e0da26.js"></script>

  <meta name="viewport" content="width=device-width">
  
  <title>SPI master with DMA implementation · Issue #571 · enjoy-digital/litex</title>
    <meta name="description" content="Hello, I&#39;d like to connect FPGA with the Silabs WF200 Wifi controller. From the IC spec, it basically requires SPI or SDIO bus interface. First of all, I want to try with SPI because it is simple, but I don&#39;t know how configure SPI with ...">
    <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">
  <meta name="apple-itunes-app" content="app-id=1477376905">
    <meta name="twitter:image:src" content="https://opengraph.githubassets.com/f1ad586a8aa39969ad6afea72d611b9fdc86edc1d1fd2d113cab7323526fb069/enjoy-digital/litex/issues/571"><meta name="twitter:site" content="@github"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="SPI master with DMA implementation · Issue #571 · enjoy-digital/litex"><meta name="twitter:description" content="Hello, I&amp;amp;#39;d like to connect FPGA with the Silabs WF200 Wifi controller. From the IC spec, it basically requires SPI or SDIO bus interface. First of all, I want to try with SPI because it is ...">
    <meta property="og:image" content="https://opengraph.githubassets.com/f1ad586a8aa39969ad6afea72d611b9fdc86edc1d1fd2d113cab7323526fb069/enjoy-digital/litex/issues/571"><meta property="og:image:alt" content="Hello, I&amp;#39;d like to connect FPGA with the Silabs WF200 Wifi controller. From the IC spec, it basically requires SPI or SDIO bus interface. First of all, I want to try with SPI because it is simp..."><meta property="og:image:width" content="1200"><meta property="og:image:height" content="600"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="SPI master with DMA implementation · Issue #571 · enjoy-digital/litex"><meta property="og:url" content="https://github.com/enjoy-digital/litex/issues/571"><meta property="og:description" content="Hello, I&amp;#39;d like to connect FPGA with the Silabs WF200 Wifi controller. From the IC spec, it basically requires SPI or SDIO bus interface. First of all, I want to try with SPI because it is simp...">



    

  <link rel="assets" href="https://github.githubassets.com/">
    <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/164396/ws?session=eyJ2IjoiVjMiLCJ1IjoxNjQzOTYsInMiOjY1OTkzODcwNywiYyI6MTk1MjI5MzQ3LCJ0IjoxNjIyODQwNDg2fQ==--647da14901525bc701554d49cde5b6852c8c40ce833a935ac91aa888d0738164" data-refresh-url="/_alive" data-session-id="55b8683dea8b2faeba196547d643cf249e32f5be3360e5d159050bb352e7e886">
    <link rel="shared-web-socket-src" href="https://github.com/socket-worker-3f088aa2.js">
  <link rel="sudo-modal" href="https://github.com/sessions/sudo_modal">

  <meta name="request-id" content="81FF:CE9D:452DC0C:4700678:60BA94A5" data-pjax-transient="true"><meta name="html-safe-nonce" content="32750400966d6e627bed24dcd0b0b3a32d3a7ef65cd7b52652625c3863ebde6f" data-pjax-transient="true"><meta name="visitor-payload" content="eyJyZWZlcnJlciI6Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vIiwicmVxdWVzdF9pZCI6IjgxRkY6Q0U5RDo0NTJEQzBDOjQ3MDA2Nzg6NjBCQTk0QTUiLCJ2aXNpdG9yX2lkIjoiMTcyNzQxMzc1OTAzMjc1NjIyOSIsInJlZ2lvbl9lZGdlIjoiZnJhIiwicmVnaW9uX3JlbmRlciI6ImlhZCJ9" data-pjax-transient="true"><meta name="visitor-hmac" content="e0a5fee212c60f8075a213287efd9dccc3d0bfecfd6d0f7133ee505373041dbd" data-pjax-transient="true">

    <meta name="hovercard-subject-tag" content="issue:641754257" data-pjax-transient="">


  <meta name="github-keyboard-shortcuts" content="repository,issues" data-pjax-transient="true">

  

  <meta name="selected-link" value="repo_issues" data-pjax-transient="">

    <meta name="google-site-verification" content="c1kuD-K2HIVF635lypcsWPoD4kilo5-jA_wBFyT4uMY">
  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">

  <meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="github"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-actor-id" content="164396"><meta name="octolytics-actor-login" content="dayjaby"><meta name="octolytics-actor-hash" content="8bc415b44a48ecaad157f12e9039012b7615c067ac13a1321a341a7589b14b93">

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/issues/show" data-pjax-transient="true">

  



  <meta name="optimizely-datafile" content="{&quot;version&quot;: &quot;4&quot;, &quot;rollouts&quot;: [], &quot;typedAudiences&quot;: [], &quot;anonymizeIP&quot;: true, &quot;projectId&quot;: &quot;16737760170&quot;, &quot;variables&quot;: [], &quot;featureFlags&quot;: [], &quot;experiments&quot;: [{&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20106410318&quot;, &quot;key&quot;: &quot;en&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20122000362&quot;, &quot;key&quot;: &quot;ko&quot;}], &quot;id&quot;: &quot;20121990335&quot;, &quot;key&quot;: &quot;ko_homepage_translation&quot;, &quot;layerId&quot;: &quot;20100420349&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20106410318&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20122000362&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20227754799&quot;, &quot;key&quot;: &quot;control&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20233267869&quot;, &quot;key&quot;: &quot;treatment&quot;}], &quot;id&quot;: &quot;20194668672&quot;, &quot;key&quot;: &quot;recommended_plan_in_signup&quot;, &quot;layerId&quot;: &quot;20231804245&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20233267869&quot;, &quot;endOfRange&quot;: 2500}, {&quot;entityId&quot;: &quot;&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20227754799&quot;, &quot;endOfRange&quot;: 7500}, {&quot;entityId&quot;: &quot;&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;d0c8cbf56b61c99517936207d280de0c&quot;: &quot;treatment&quot;}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20233300304&quot;, &quot;key&quot;: &quot;launch_code_variation&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20227370325&quot;, &quot;key&quot;: &quot;control&quot;}], &quot;id&quot;: &quot;20206000276&quot;, &quot;key&quot;: &quot;launch_code_verification&quot;, &quot;layerId&quot;: &quot;20233240262&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20233300304&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20233300304&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {}}, {&quot;status&quot;: &quot;Running&quot;, &quot;audienceIds&quot;: [], &quot;variations&quot;: [{&quot;variables&quot;: [], &quot;id&quot;: &quot;20236992340&quot;, &quot;key&quot;: &quot;usd&quot;}, {&quot;variables&quot;: [], &quot;id&quot;: &quot;20184442182&quot;, &quot;key&quot;: &quot;localized_currency&quot;}], &quot;id&quot;: &quot;20233233507&quot;, &quot;key&quot;: &quot;local_currency_pricing&quot;, &quot;layerId&quot;: &quot;20212472765&quot;, &quot;trafficAllocation&quot;: [{&quot;entityId&quot;: &quot;20184442182&quot;, &quot;endOfRange&quot;: 5000}, {&quot;entityId&quot;: &quot;20236992340&quot;, &quot;endOfRange&quot;: 10000}], &quot;forcedVariations&quot;: {&quot;667685045.1617740930&quot;: &quot;localized_currency&quot;}}], &quot;audiences&quot;: [{&quot;conditions&quot;: &quot;[\&quot;or\&quot;, {\&quot;match\&quot;: \&quot;exact\&quot;, \&quot;name\&quot;: \&quot;$opt_dummy_attribute\&quot;, \&quot;type\&quot;: \&quot;custom_attribute\&quot;, \&quot;value\&quot;: \&quot;$opt_dummy_value\&quot;}]&quot;, &quot;id&quot;: &quot;$opt_dummy_audience&quot;, &quot;name&quot;: &quot;Optimizely-Generated Audience for Backwards Compatibility&quot;}], &quot;groups&quot;: [], &quot;attributes&quot;: [{&quot;id&quot;: &quot;16822470375&quot;, &quot;key&quot;: &quot;user_id&quot;}, {&quot;id&quot;: &quot;17143601254&quot;, &quot;key&quot;: &quot;spammy&quot;}, {&quot;id&quot;: &quot;18175660309&quot;, &quot;key&quot;: &quot;organization_plan&quot;}, {&quot;id&quot;: &quot;18813001570&quot;, &quot;key&quot;: &quot;is_logged_in&quot;}, {&quot;id&quot;: &quot;19073851829&quot;, &quot;key&quot;: &quot;geo&quot;}, {&quot;id&quot;: &quot;20175462351&quot;, &quot;key&quot;: &quot;requestedCurrency&quot;}], &quot;botFiltering&quot;: false, &quot;accountId&quot;: &quot;16737760170&quot;, &quot;events&quot;: [{&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;17911811441&quot;, &quot;key&quot;: &quot;hydro_click.dashboard.teacher_toolbox_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18124116703&quot;, &quot;key&quot;: &quot;submit.organizations.complete_sign_up&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18145892387&quot;, &quot;key&quot;: &quot;no_metric.tracked_outside_of_optimizely&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18178755568&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.add_repo&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18180553241&quot;, &quot;key&quot;: &quot;submit.repository_imports.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18186103728&quot;, &quot;key&quot;: &quot;click.help.learn_more_about_repository_creation&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18188530140&quot;, &quot;key&quot;: &quot;test_event.do_not_use_in_production&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18191963644&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.transfer_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18195612788&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.import_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18210945499&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.invite_members&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18211063248&quot;, &quot;key&quot;: &quot;click.empty_org_repo_cta.create_repository&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18215721889&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.update_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18224360785&quot;, &quot;key&quot;: &quot;click.org_onboarding_checklist.dismiss&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18234832286&quot;, &quot;key&quot;: &quot;submit.organization_activation.complete&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18252392383&quot;, &quot;key&quot;: &quot;submit.org_repository.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18257551537&quot;, &quot;key&quot;: &quot;submit.org_member_invitation.create&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18259522260&quot;, &quot;key&quot;: &quot;submit.organization_profile.update&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18564603625&quot;, &quot;key&quot;: &quot;view.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18568612016&quot;, &quot;key&quot;: &quot;click.classroom_sign_in_click&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18572592540&quot;, &quot;key&quot;: &quot;view.classroom_name&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18574203855&quot;, &quot;key&quot;: &quot;click.classroom_create_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18582053415&quot;, &quot;key&quot;: &quot;click.classroom_select_organization&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18589463420&quot;, &quot;key&quot;: &quot;click.classroom_create_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591323364&quot;, &quot;key&quot;: &quot;click.classroom_create_first_classroom&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18591652321&quot;, &quot;key&quot;: &quot;click.classroom_grant_access&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;18607131425&quot;, &quot;key&quot;: &quot;view.classroom_creation&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;18831680583&quot;, &quot;key&quot;: &quot;upgrade_account_plan&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19064064515&quot;, &quot;key&quot;: &quot;click.signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19075373687&quot;, &quot;key&quot;: &quot;click.view_account_billing_page&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19077355841&quot;, &quot;key&quot;: &quot;click.dismiss_signup_prompt&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19079713938&quot;, &quot;key&quot;: &quot;click.contact_sales&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19120963070&quot;, &quot;key&quot;: &quot;click.compare_account_plans&quot;}, {&quot;experimentIds&quot;: [&quot;20233233507&quot;], &quot;id&quot;: &quot;19151690317&quot;, &quot;key&quot;: &quot;click.upgrade_account_cta&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19424193129&quot;, &quot;key&quot;: &quot;click.open_account_switcher&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19520330825&quot;, &quot;key&quot;: &quot;click.visit_account_profile&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19540970635&quot;, &quot;key&quot;: &quot;click.switch_account_context&quot;}, {&quot;experimentIds&quot;: [&quot;20121990335&quot;], &quot;id&quot;: &quot;19730198868&quot;, &quot;key&quot;: &quot;submit.homepage_signup&quot;}, {&quot;experimentIds&quot;: [&quot;20121990335&quot;], &quot;id&quot;: &quot;19820830627&quot;, &quot;key&quot;: &quot;click.homepage_signup&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;19988571001&quot;, &quot;key&quot;: &quot;click.create_enterprise_trial&quot;}, {&quot;experimentIds&quot;: [&quot;20233233507&quot;], &quot;id&quot;: &quot;20036538294&quot;, &quot;key&quot;: &quot;click.create_organization_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20040653299&quot;, &quot;key&quot;: &quot;click.input_enterprise_trial_form&quot;}, {&quot;experimentIds&quot;: [&quot;20233233507&quot;], &quot;id&quot;: &quot;20062030003&quot;, &quot;key&quot;: &quot;click.continue_with_team&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20068947153&quot;, &quot;key&quot;: &quot;click.create_organization_free&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20086636658&quot;, &quot;key&quot;: &quot;click.signup_continue.username&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20091648988&quot;, &quot;key&quot;: &quot;click.signup_continue.create_account&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20103637615&quot;, &quot;key&quot;: &quot;click.signup_continue.email&quot;}, {&quot;experimentIds&quot;: [], &quot;id&quot;: &quot;20111574253&quot;, &quot;key&quot;: &quot;click.signup_continue.password&quot;}, {&quot;experimentIds&quot;: [&quot;20233233507&quot;], &quot;id&quot;: &quot;20120044111&quot;, &quot;key&quot;: &quot;view.pricing_page&quot;}, {&quot;experimentIds&quot;: [&quot;20121990335&quot;, &quot;20233233507&quot;], &quot;id&quot;: &quot;20152062109&quot;, &quot;key&quot;: &quot;submit.create_account&quot;}, {&quot;experimentIds&quot;: [&quot;20233233507&quot;], &quot;id&quot;: &quot;20165800992&quot;, &quot;key&quot;: &quot;submit.upgrade_payment_form&quot;}, {&quot;experimentIds&quot;: [&quot;20233233507&quot;], &quot;id&quot;: &quot;20171520319&quot;, &quot;key&quot;: &quot;submit.create_organization&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20222645674&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.discuss_your_needs&quot;}, {&quot;experimentIds&quot;: [&quot;20206000276&quot;], &quot;id&quot;: &quot;20227443657&quot;, &quot;key&quot;: &quot;submit.verify_primary_user_email&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20234607160&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.try_enterprise&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20238175784&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.team&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20239847212&quot;, &quot;key&quot;: &quot;click.recommended_plan_in_signup.continue_free&quot;}, {&quot;experimentIds&quot;: [&quot;20194668672&quot;], &quot;id&quot;: &quot;20251097193&quot;, &quot;key&quot;: &quot;recommended_plan&quot;}], &quot;revision&quot;: &quot;691&quot;}">
  <!-- To prevent page flashing, the optimizely JS needs to be loaded in the
    <head> tag before the DOM renders -->
  <script crossorigin="anonymous" defer="defer" integrity="sha512-yDmmCGyENqEePvF9X9A4omxWCNcbS6qK2h8HZPdnvXd02Vzhtqd0zRd/pgTgqQ/xOA02F3H225VpJvDXrnfNbA==" type="application/javascript" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/optimizely-c839a608.js"></script>



  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="dayjaby">


      <meta name="expected-hostname" content="github.com">

      <meta name="js-proxy-site-detection-payload" content="Mjk5MDAyZDkxNGQ1ZjdiNjk4YTQ0YTM0NzRiMjljNTUxYjc3MzgxYzI3MzVmYjkyNDYyNzFmYjZjOTk2NTA2Nnx7InJlbW90ZV9hZGRyZXNzIjoiMTA5LjQxLjY0Ljc4IiwicmVxdWVzdF9pZCI6IjgxRkY6Q0U5RDo0NTJEQzBDOjQ3MDA2Nzg6NjBCQTk0QTUiLCJ0aW1lc3RhbXAiOjE2MjI4NDA0ODYsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="MARKETPLACE_PENDING_INSTALLATIONS,AUTOCOMPLETE_EMOJIS_IN_MARKDOWN_EDITOR,GITHUB_TOKEN_PERMISSION">

  <meta http-equiv="x-pjax-version" content="f74673adb2991ffd02df32b4de391570c7d2d09b45fa39d030ea2d1093601e4a">
  

    
  <meta name="go-import" content="github.com/enjoy-digital/litex git https://github.com/enjoy-digital/litex.git">

  <meta name="octolytics-dimension-user_id" content="1450143"><meta name="octolytics-dimension-user_login" content="enjoy-digital"><meta name="octolytics-dimension-repository_id" content="45734719"><meta name="octolytics-dimension-repository_nwo" content="enjoy-digital/litex"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="45734719"><meta name="octolytics-dimension-repository_network_root_nwo" content="enjoy-digital/litex">





  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="browser-optimizely-client-errors-url" content="https://api.github.com/_private/browser/optimizely_client/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/pinned-octocat.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="dark light">


  <link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

<meta name="enabled-homepage-translation-languages" content="ko">

  </head>

  <body class="logged-in env-production page-responsive" style="word-wrap: break-word;">
    

    <div class="position-relative js-header-wrapper ">
      <a href="https://github.com/enjoy-digital/litex/issues/571#start-of-content" class="p-3 color-bg-info-inverse color-text-white show-on-focus js-skip-to-content">Skip to content</a>
      <span data-view-component="true" class="progress-pjax-loader width-full js-pjax-loader-bar Progress position-fixed">
    <span style="background-color: #79b8ff;width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar"></span>
</span>      
      


        
            <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap" role="banner">
    <div class="Header-item mt-n1 mb-n1  d-none d-md-flex">
      <a class="Header-link " href="https://github.com/" data-hotkey="g d" aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button" aria-label="Toggle navigation" aria-expanded="false">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="24" width="24" class="octicon octicon-three-bars">
    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
</svg>
      </button>
    </div>

    <div class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
          


  <div class="header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
    <div class="position-relative">
      <!-- '"` --><!-- </textarea></xmp> --><form class="js-site-search-form" role="search" aria-label="Site" data-scope-type="Repository" data-scope-id="45734719" data-scoped-search-url="/enjoy-digital/litex/search" data-owner-scoped-search-url="/users/enjoy-digital/search" data-unscoped-search-url="/search" action="https://github.com/enjoy-digital/litex/search" accept-charset="UTF-8" method="get">
        <label class="form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
          <input type="text" class="form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable" data-hotkey="s,/" name="q" value="" placeholder="Search or jump to…" data-unscoped-placeholder="Search or jump to…" data-scoped-placeholder="Search or jump to…" autocapitalize="off" role="combobox" aria-haspopup="listbox" aria-expanded="false" aria-autocomplete="list" aria-controls="jump-to-results" aria-label="Search or jump to…" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" spellcheck="false" autocomplete="off">
          <input type="hidden" value="6kzNV/NbvD3DYAPv4uUIGBsoNKGu9pDq2tVf7Hezu8nZ47LlkCVff+B8CljuDLM4JQJsmAjDobNKeegp4rkgfQ==" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf">
          <input type="hidden" class="js-site-search-type-field" name="type">
              <img src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/search-key-slash.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              
<ul class="d-none js-jump-to-suggestions-template-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/enjoy-digital/litex/issues/571" data-item-type="suggestion">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/enjoy-digital/litex/issues/571" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

</ul>

<ul class="d-none js-jump-to-no-results-template-container">
  <li class="d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2">
    <span class="color-text-secondary">No suggested jump to results</span>
  </li>
</ul>

<ul id="jump-to-results" role="listbox" class="p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container">
  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/enjoy-digital/litex/issues/571" data-item-type="scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/enjoy-digital/litex/issues/571" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-owner-scoped-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/enjoy-digital/litex/issues/571" data-item-type="owner_scoped_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/enjoy-digital/litex/issues/571" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this user">
        In this user
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>

  

<li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none" role="option">
  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2" href="https://github.com/enjoy-digital/litex/issues/571" data-item-type="global_search">
    <div class="jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none">
      <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none" title="Repository" aria-label="Repository" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none" title="Project" aria-label="Project" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
      <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z"></path></svg>
    </div>

    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none" alt="" aria-label="Team" src="https://github.com/enjoy-digital/litex/issues/571" width="28" height="28">

    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
    </div>

    <div class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none js-jump-to-badge-search">
      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
        In this repository
      </span>
      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
        All GitHub
      </span>
      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>

    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 color-bg-tertiary px-1 color-text-tertiary ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
      Jump to
      <span class="d-inline-block ml-1 v-align-middle">↵</span>
    </div>
  </a>
</li>


    <li class="d-flex flex-justify-center flex-items-center p-0 f5 js-jump-to-suggestion">
      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="m-3 anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
    </li>
</ul>

            </div>
        </label>
</form>    </div>
  </div>

        <nav class="d-flex flex-column flex-md-row flex-self-stretch flex-md-self-auto" aria-label="Global">
      <a class="Header-link py-md-3 d-block d-md-none py-2 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:dashboard:user" aria-label="Dashboard" href="https://github.com/dashboard">
        Dashboard
</a>
    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-hotkey="g p" data-ga-click="Header, click, Nav menu - item:pulls context:user" aria-label="Pull requests you created" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls" href="https://github.com/pulls">
        Pull<span class="d-inline d-md-none d-lg-inline"> request</span>s
</a>
    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-hotkey="g i" data-ga-click="Header, click, Nav menu - item:issues context:user" aria-label="Issues you created" data-selected-links="/issues /issues/assigned /issues/mentioned /issues" href="https://github.com/issues">
      Issues
</a>
      <div class="d-flex position-relative">
        <a class="js-selected-navigation-item Header-link flex-auto mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:marketplace context:user" data-octo-click="marketplace_click" data-octo-dimensions="location:nav_bar" data-selected-links=" /marketplace" href="https://github.com/marketplace">
          Marketplace
</a>      </div>

    <a class="js-selected-navigation-item Header-link mt-md-n3 mb-md-n3 py-2 py-md-3 mr-0 mr-md-3 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="https://github.com/explore">
      Explore
</a>
    <a class="js-selected-navigation-item Header-link d-block d-md-none py-2 py-md-3 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:workspaces context:user" data-selected-links="/codespaces /codespaces" href="https://github.com/codespaces">
      Codespaces
</a>
      <a class="js-selected-navigation-item Header-link d-block d-md-none py-2 py-md-3 border-top border-md-top-0 border-white-fade-15" data-ga-click="Header, click, Nav menu - item:Sponsors" data-hydro-click="{&quot;event_type&quot;:&quot;sponsors.button_click&quot;,&quot;payload&quot;:{&quot;button&quot;:&quot;HEADER_SPONSORS_DASHBOARD&quot;,&quot;sponsorable_login&quot;:&quot;dayjaby&quot;,&quot;originating_url&quot;:&quot;https://github.com/enjoy-digital/litex/issues/571&quot;,&quot;user_id&quot;:164396}}" data-hydro-click-hmac="db1cf96f6cbfba6566c6c676b353a7cf75b31441703bb4d708103257fb810c50" data-selected-links=" /sponsors/accounts" href="https://github.com/sponsors/accounts">Sponsors</a>

    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade-15" href="https://github.com/settings/profile">
      Settings
</a>
    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade-15" href="https://github.com/dayjaby">
      <img class="avatar avatar-user" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/164396" width="20" height="20" alt="@dayjaby">
      dayjaby
</a>
    <!-- '"` --><!-- </textarea></xmp> --><form action="https://github.com/logout" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="djh+n+Eo/l0o9egjCsAyTla+Rjd6omeTsvqgrSCW1aP+suzoo0tPN1vSBYvHmoYo8ILM/kaJJHY7u8qK0UmoOg==">
      <button type="submit" class="Header-link mr-0 mr-md-3 py-2 py-md-3 border-top border-md-top-0 border-white-fade-15 d-md-none btn-link d-block width-full text-left" data-ga-click="Header, sign out, icon:logout" style="padding-left: 2px;">
        <svg class="octicon octicon-sign-out v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 010 1.5h-2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 010 1.5h-2.5A1.75 1.75 0 012 13.25V2.75zm10.44 4.5H6.75a.75.75 0 000 1.5h5.69l-1.97 1.97a.75.75 0 101.06 1.06l3.25-3.25a.75.75 0 000-1.06l-3.25-3.25a.75.75 0 10-1.06 1.06l1.97 1.97z"></path></svg>
        Sign out
      </button>
</form></nav>

    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
        <a class="Header-link " href="https://github.com/" data-hotkey="g d" aria-label="Homepage " data-ga-click="Header, go to dashboard, icon:logo">
  <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>

    </div>

    <div class="Header-item mr-0 mr-md-3 flex-order-1 flex-md-order-none">
        


      <notification-indicator class="js-socket-channel" data-test-selector="notifications-indicator" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MTY0Mzk2IiwidCI6MTYyMjg0MDQ4Nn0=--2bb5dcd58c1d96fb1aa4fab5c09e51e8d0734f5d9bd120ba4992ddb0585b24af" data-catalyst="">
        <a href="https://github.com/notifications" class="Header-link notification-indicator position-relative tooltipped tooltipped-sw" aria-label="You have unread notifications" data-hotkey="g n" data-ga-click="Header, go to notifications, icon:unread" data-target="notification-indicator.link">
          <span class="mail-status unread " data-target="notification-indicator.modifier"></span>
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bell">
    <path d="M8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path><path fill-rule="evenodd" d="M8 1.5A3.5 3.5 0 004.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01l.001.006c0 .002.002.004.004.006a.017.017 0 00.006.004l.007.001h10.964l.007-.001a.016.016 0 00.006-.004.016.016 0 00.004-.006l.001-.007a.017.017 0 00-.003-.01l-1.703-2.554a1.75 1.75 0 01-.294-.97V5A3.5 3.5 0 008 1.5zM3 5a5 5 0 0110 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.518 1.518 0 0113.482 13H2.518a1.518 1.518 0 01-1.263-2.36l1.703-2.554A.25.25 0 003 7.947V5z"></path>
</svg>
        </a>
      </notification-indicator>

    </div>


    <div class="Header-item position-relative d-none d-md-flex">
        <details class="details-overlay details-reset">
  <summary class="Header-link" aria-label="Create new…" data-ga-click="Header, create new, icon:add" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-plus">
    <path fill-rule="evenodd" d="M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 110 1.5H8.5v4.25a.75.75 0 11-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z"></path>
</svg> <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw" role="menu">
    
<a role="menuitem" class="dropdown-item" href="https://github.com/new" data-ga-click="Header, create new repository">
  New repository
</a>

  <a role="menuitem" class="dropdown-item" href="https://github.com/new/import" data-ga-click="Header, import a repository">
    Import repository
  </a>

<a role="menuitem" class="dropdown-item" href="https://gist.github.com/" data-ga-click="Header, create new gist">
  New gist
</a>

  <a role="menuitem" class="dropdown-item" href="https://github.com/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  </details-menu>
</details>

    </div>

    <div class="Header-item position-relative mr-0 d-none d-md-flex">
        
  <details class="details-overlay details-reset js-feature-preview-indicator-container" data-feature-preview-indicator-src="/users/dayjaby/feature_preview/indicator_check">

  <summary class="Header-link" aria-label="View profile and more" data-ga-click="Header, show menu, icon:avatar" aria-haspopup="menu" role="button">
    <img src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/164396(1)" alt="@dayjaby" size="20" data-view-component="true" height="20" width="20" class="avatar-user avatar avatar-small">
      <span class="feature-preview-indicator js-feature-preview-indicator" style="top: 1px;" hidden=""></span>
    <span class="dropdown-caret"></span>
  </summary>
  <details-menu class="dropdown-menu dropdown-menu-sw" style="width: 180px" src="/users/164396/menu" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2 color-text-primary" data-show-on-error="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
      </include-fragment>
  </details-menu>
</details>

    </div>
</header>

            
    </div>

  <div id="start-of-content" class="show-on-focus"></div>





    <div data-pjax-replace="" id="js-flash-container">


  <template class="js-flash-template"></template>
</div>


    

  <include-fragment class="js-notification-shelf-include-fragment" data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>




  <div class="application-main " data-commit-hovercards-enabled="" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" data-pjax-container="">
      

        




  


  <div class="color-bg-secondary pt-3 hide-full-screen mb-5">

      <div class="d-flex mb-3 px-3 px-md-4 px-lg-5">

        <div class="flex-auto min-width-0 width-fit mr-3">
            <h1 class=" d-flex flex-wrap flex-items-center break-word f3 text-normal">
    <svg class="octicon octicon-repo color-text-secondary mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>
  <span class="author flex-self-stretch" itemprop="author">
    <a class="url fn" rel="author" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>
  </span>
  <span class="mx-1 flex-self-stretch color-text-secondary">/</span>
  <strong itemprop="name" class="mr-2 flex-self-stretch">
    <a data-pjax="#js-repo-pjax-container" href="https://github.com/enjoy-digital/litex">litex</a>
  </strong>
  
</h1>


        </div>

          <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">

  <li>
        <notifications-list-subscription-form class="f5 position-relative d-flex" data-catalyst="">
      <details class="details-reset details-overlay f5 position-relative" data-target="notifications-list-subscription-form.details" data-action="toggle:notifications-list-subscription-form#detailsToggled">

      <summary class="btn btn-sm rounded-right-0" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;WATCH_BUTTON&quot;,&quot;repository_id&quot;:45734719,&quot;originating_url&quot;:&quot;https://github.com/enjoy-digital/litex/issues/571&quot;,&quot;user_id&quot;:164396}}" data-hydro-click-hmac="156cd875284e63bb9a0e8448663cfdc293ebc474d8e416bb8180b692a69d1af9" data-ga-click="Repository, click Watch settings, action:issues#show" aria-label="Notifications settings" role="button" aria-haspopup="menu">
          <span data-menu-button="">
            <span data-target="notifications-list-subscription-form.unwatchButtonCopy">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-eye">
    <path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path>
</svg>
              Unwatch
            </span>
            <span hidden="" data-target="notifications-list-subscription-form.stopIgnoringButtonCopy">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bell-slash">
    <path fill-rule="evenodd" d="M8 1.5c-.997 0-1.895.416-2.534 1.086A.75.75 0 014.38 1.55 5 5 0 0113 5v2.373a.75.75 0 01-1.5 0V5A3.5 3.5 0 008 1.5zM4.182 4.31L1.19 2.143a.75.75 0 10-.88 1.214L3 5.305v2.642a.25.25 0 01-.042.139L1.255 10.64A1.518 1.518 0 002.518 13h11.108l1.184.857a.75.75 0 10.88-1.214l-1.375-.996a1.196 1.196 0 00-.013-.01L4.198 4.321a.733.733 0 00-.016-.011zm7.373 7.19L4.5 6.391v1.556c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01.015.015 0 00.005.012.017.017 0 00.006.004l.007.001h9.037zM8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path>
</svg>
              Stop ignoring
            </span>
            <span hidden="" data-target="notifications-list-subscription-form.watchButtonCopy">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-eye">
    <path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"></path>
</svg>
              Watch
            </span>
          </span>
          <span class="dropdown-caret"></span>
</summary>
        <details-menu class="SelectMenu  " role="menu" data-target="notifications-list-subscription-form.menu">
          <div class="SelectMenu-modal notifications-component-menu-modal">
            <header class="SelectMenu-header">
              <h3 class="SelectMenu-title">Notifications</h3>
              <button class="SelectMenu-closeButton" type="button" aria-label="Close menu" data-action="click:notifications-list-subscription-form#closeMenu">
                <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
              </button>
            </header>

            <div class="SelectMenu-list">
              <form data-target="notifications-list-subscription-form.form" data-action="submit:notifications-list-subscription-form#submitForm" action="https://github.com/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="xq/gLMBOlH0fZQPKIZpM6nkMbGUGa4pP2/SI9u87qJMM2RbTMH5TKcv4t2T65OWus7Ayym238rG1Ozp/UBQn+A==">

                <input type="hidden" name="repository_id" value="45734719">

                <button type="submit" name="do" value="included" class="SelectMenu-item flex-items-start" role="menuitemradio" aria-checked="false" data-targets="notifications-list-subscription-form.subscriptionButtons">
                  <span class="f5">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      Participating and @mentions
                    </div>
                    <div class="text-small color-text-secondary text-normal pb-1">
                      Only receive notifications from this repository when participating or @mentioned.
                    </div>
                  </div>
                </button>

                <button type="submit" name="do" value="subscribed" class="SelectMenu-item flex-items-start" role="menuitemradio" aria-checked="true" data-targets="notifications-list-subscription-form.subscriptionButtons">
                  <span class="f5">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      All Activity
                    </div>
                    <div class="text-small color-text-secondary text-normal pb-1">
                      Notified of all notifications on this repository.
                    </div>
                  </div>
                </button>

                <button type="submit" name="do" value="ignore" class="SelectMenu-item flex-items-start" role="menuitemradio" aria-checked="false" data-targets="notifications-list-subscription-form.subscriptionButtons">
                  <span class="f5">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                  </span>
                  <div>
                    <div class="f5 text-bold">
                      Ignore
                    </div>
                    <div class="text-small color-text-secondary text-normal pb-1">
                      Never be notified.
                    </div>
                  </div>
                </button>
</form>
              <button class="SelectMenu-item flex-items-start pr-3" type="button" role="menuitemradio" data-target="notifications-list-subscription-form.customButton" data-action="click:notifications-list-subscription-form#openCustomDialog" aria-haspopup="true" aria-checked="false">
                <span class="f5">
                  <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-check SelectMenu-icon SelectMenu-icon--check">
    <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>
</svg>
                </span>
                <div>
                  <div class="d-flex flex-items-start flex-justify-between">
                    <div class="f5 text-bold">Custom</div>
                    <div class="f5 pr-1">
                      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-arrow-right">
    <path fill-rule="evenodd" d="M8.22 2.97a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06l2.97-2.97H3.75a.75.75 0 010-1.5h7.44L8.22 4.03a.75.75 0 010-1.06z"></path>
</svg>
                    </div>
                  </div>
                  <div class="text-small color-text-secondary text-normal pb-1">
                    Select events you want to be notified of in addition to participating and @mentions.
                  </div>
                </div>
              </button>
            </div>
          </div>
        </details-menu>

        <details-dialog class="notifications-component-dialog " data-target="notifications-list-subscription-form.customDialog" hidden="" role="dialog" aria-modal="true">
          <div class="SelectMenu-modal notifications-component-dialog-modal overflow-visible">
            <form data-target="notifications-list-subscription-form.customform" data-action="submit:notifications-list-subscription-form#submitCustomForm" action="https://github.com/notifications/subscribe" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="WVurK9tZKVcxt6+YzC6oWsO0chZ7gH5L6RQ2If70X7aTLV3UK2nuA+UqGzYXUAEeCQgsuRBcBrWH24SoQdvQ3Q==">

              <input type="hidden" name="repository_id" value="45734719">

              <header class="d-sm-none SelectMenu-header pb-0 border-bottom-0 px-2 px-sm-3">
                <h1 class="f3 SelectMenu-title d-inline-flex">
                  <button class="color-bg-primary border-0 px-2 py-0 m-0 Link--secondary f5" aria-label="Return to menu" type="button" data-action="click:notifications-list-subscription-form#closeCustomDialog">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-arrow-left">
    <path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path>
</svg>
                  </button>
                  Custom
                </h1>
              </header>

              <header class="d-none d-sm-flex flex-items-start pt-1">
                <button class="border-0 px-2 pt-1 m-0 Link--secondary f5" style="background-color: transparent;" aria-label="Return to menu" type="button" data-action="click:notifications-list-subscription-form#closeCustomDialog">
                  <svg style="position: relative; left: 2px; top: 1px" aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-arrow-left">
    <path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path>
</svg>
                </button>

                <h1 class="pt-1 pr-4 pb-0 pl-0 f5 text-bold">
                  Custom
                </h1>
              </header>

              <fieldset>
                <legend>
                  <div class="text-small color-text-secondary pt-0 pr-3 pb-3 pl-6 pl-sm-5 border-bottom mb-3">
                    Select events you want to be notified of in addition to participating and @mentions.
                  </div>
                </legend>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="Issue" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Issues
                    </label>

                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="PullRequest" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Pull requests
                    </label>

                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="Release" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Releases
                    </label>

                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="Discussion" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Discussions
                    </label>

                      <span class="tooltipped tooltipped-nw mr-2 p-1 float-right" aria-label="Discussions are not enabled for this repo">
                        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-info color-icon-secondary">
    <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
                      </span>
                  </div>
                  <div class="form-checkbox mr-3 ml-6 ml-sm-5 mb-2 mt-0">
                    <label class="f5 text-normal">
                      <input type="checkbox" name="thread_types[]" value="SecurityAlert" data-targets="notifications-list-subscription-form.threadTypeCheckboxes" data-action="change:notifications-list-subscription-form#threadTypeCheckboxesUpdated">
                      Security alerts
                    </label>

                  </div>
              </fieldset>
              <div class="pt-2 pb-3 px-3 d-flex flex-justify-start flex-row-reverse">
                <button type="submit" name="do" value="custom" class="btn btn-sm btn-primary ml-2" data-target="notifications-list-subscription-form.customSubmit" disabled="">Apply</button>

                <button class="btn btn-sm" type="button" data-action="click:notifications-list-subscription-form#resetForm" data-close-dialog="">Cancel</button>
              </div>
</form>          </div>
        </details-dialog>
        <div class="notifications-component-dialog-overlay"></div>
      </details>
        <a class="social-count" href="https://github.com/enjoy-digital/litex/watchers" aria-label="69 users are watching this repository" data-target="notifications-list-subscription-form.socialCount">
          69
        </a>
    </notifications-list-subscription-form>



  </li>

  <li>
        <div class="d-block js-toggler-container js-social-container starring-container on">
    <form class="starred js-social-form" action="https://github.com/enjoy-digital/litex/unstar" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="XnrcqVQQdNvT3aOb2fjJXuiGnCRDdvOoMCvAlbkUxV+RyywgGb66jT1MoB5/+6xGwc+aLtmHUbLyLtn++wZeIA==">
      <input type="hidden" name="context" value="repository">
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Unstar enjoy-digital/litex" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;UNSTAR_BUTTON&quot;,&quot;repository_id&quot;:45734719,&quot;originating_url&quot;:&quot;https://github.com/enjoy-digital/litex/issues/571&quot;,&quot;user_id&quot;:164396}}" data-hydro-click-hmac="42a4745aacd3c4574701526dd259923c55df896f56d39a9e746f21a4b7243d10" data-ga-click="Repository, click unstar button, action:issues#show; text:Unstar">        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-star-fill mr-1">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"></path>
</svg>
        <span data-view-component="true">
          Unstar
</span></button>        <a class="social-count js-social-count" href="https://github.com/enjoy-digital/litex/stargazers" aria-label="1054 users starred this repository">
           1.1k
        </a>
</form>
    <form class="unstarred js-social-form" action="https://github.com/enjoy-digital/litex/star" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="D5VbjXZ3fpwxJXoY/RMHoVKNWKYk1ajRzyxUkjT3gZ54MmgB7xopGp8L+mNfVBALqTanIEJwYfRO9m4lYfvG0Q==">
      <input type="hidden" name="context" value="repository">
      <button type="submit" class="btn btn-sm btn-with-count  js-toggler-target" aria-label="Unstar this repository" title="Star enjoy-digital/litex" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;STAR_BUTTON&quot;,&quot;repository_id&quot;:45734719,&quot;originating_url&quot;:&quot;https://github.com/enjoy-digital/litex/issues/571&quot;,&quot;user_id&quot;:164396}}" data-hydro-click-hmac="cf605b689de137da1d7ed1cf4978fa21dd7172a1d7ac5bc27ecc500f4b8e5391" data-ga-click="Repository, click star button, action:issues#show; text:Star">        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-star mr-1">
    <path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path>
</svg>
        <span data-view-component="true">
          Star
</span></button>        <a class="social-count js-social-count" href="https://github.com/enjoy-digital/litex/stargazers" aria-label="1054 users starred this repository">
          1.1k
        </a>
</form>  </div>

  </li>

  <li>
            <div class="float-left">
              <details class="details-reset details-overlay details-overlay-dark ">
                      <summary class="btn btn-sm btn-with-count" title="Fork your own copy of enjoy-digital/litex to your account" data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;target&quot;:&quot;FORK_BUTTON&quot;,&quot;repository_id&quot;:45734719,&quot;originating_url&quot;:&quot;https://github.com/enjoy-digital/litex/issues/571&quot;,&quot;user_id&quot;:164396}}" data-hydro-click-hmac="8abcd620699b06bb606313b2ea4bc09ebddef0639578d1f39237b34a36f054bb" data-ga-click="Repository, show fork modal, action:issues#show; text:Fork" role="button">
                    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-repo-forked">
    <path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path>
</svg>
                    Fork
                  </summary>

  <details-dialog class="Box d-flex flex-column anim-fade-in fast Box--overlay " aria-label="Fork litex" src="/enjoy-digital/litex/fork?fragment=1" preload="" role="dialog" aria-modal="true">
    <div class="Box-header">
      <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog="">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
      </button>
      <h1 class="Box-title">Fork litex</h1>
    </div>
      
                <div class="text-center overflow-auto">
                  <include-fragment>
                    <div class="octocat-spinner my-5" aria-label="Loading..."></div>
                    <p class="f5 color-text-secondary">If this dialog fails to load, you can visit <a href="https://github.com/enjoy-digital/litex/fork">the fork page</a> directly.</p>
                  </include-fragment>
                </div>

  </details-dialog>
</details>
            </div>

      <a href="https://github.com/enjoy-digital/litex/network/members" class="social-count" aria-label="238 users forked this repository">
        238
      </a>
  </li>
</ul>

      </div>
        

  <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5 color-bg-secondary">

    <ul data-view-component="true" class="UnderlineNav-body list-style-none">
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments /enjoy-digital/litex" data-hotkey="g c" data-ga-click="Repository, Navigation click, Code tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path></svg>
          <span data-content="Code">Code</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /enjoy-digital/litex/issues" data-hotkey="g i" data-ga-click="Repository, Navigation click, Issues tab" aria-current="page" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item selected">
    
                  <svg class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm9 3a1 1 0 11-2 0 1 1 0 012 0zm-.25-6.25a.75.75 0 00-1.5 0v3.5a.75.75 0 001.5 0v-3.5z"></path></svg>
          <span data-content="Issues">Issues</span>
            <span title="58" data-view-component="true" class="Counter">58</span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /enjoy-digital/litex/pulls" data-hotkey="g p" data-ga-click="Repository, Navigation click, Pull requests tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.177 3.073L9.573.677A.25.25 0 0110 .854v4.792a.25.25 0 01-.427.177L7.177 3.427a.25.25 0 010-.354zM3.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122v5.256a2.251 2.251 0 11-1.5 0V5.372A2.25 2.25 0 011.5 3.25zM11 2.5h-1V4h1a1 1 0 011 1v5.628a2.251 2.251 0 101.5 0V5A2.5 2.5 0 0011 2.5zm1 10.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0zM3.75 12a.75.75 0 100 1.5.75.75 0 000-1.5z"></path></svg>
          <span data-content="Pull requests">Pull requests</span>
            <span title="15" data-view-component="true" class="Counter">15</span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/actions" data-tab-item="i3actions-tab" data-selected-links="repo_actions /enjoy-digital/litex/actions" data-hotkey="g a" data-ga-click="Repository, Navigation click, Actions tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM6.379 5.227A.25.25 0 006 5.442v5.117a.25.25 0 00.379.214l4.264-2.559a.25.25 0 000-.428L6.379 5.227z"></path></svg>
          <span data-content="Actions">Actions</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/projects" data-tab-item="i4projects-tab" data-selected-links="repo_projects new_repo_project repo_project /enjoy-digital/litex/projects" data-hotkey="g b" data-ga-click="Repository, Navigation click, Projects tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-project UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z"></path></svg>
          <span data-content="Projects">Projects</span>
            <span title="0" hidden="hidden" data-view-component="true" class="Counter">0</span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/wiki" data-tab-item="i5wiki-tab" data-selected-links="repo_wiki /enjoy-digital/litex/wiki" data-hotkey="g w" data-ga-click="Repository, Navigation click, Wikis tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-book UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z"></path></svg>
          <span data-content="Wiki">Wiki</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/security" data-tab-item="i6security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /enjoy-digital/litex/security" data-hotkey="g s" data-ga-click="Repository, Navigation click, Security tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.467.133a1.75 1.75 0 011.066 0l5.25 1.68A1.75 1.75 0 0115 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.7 1.7 0 01-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 011.217-1.667l5.25-1.68zm.61 1.429a.25.25 0 00-.153 0l-5.25 1.68a.25.25 0 00-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.2.2 0 00.154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.25.25 0 00-.174-.237l-5.25-1.68zM9 10.5a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.75a.75.75 0 10-1.5 0v3a.75.75 0 001.5 0v-3z"></path></svg>
          <span data-content="Security">Security</span>
            

    
</a></li>
        <li data-view-component="true" class="d-flex">
  <a href="https://github.com/enjoy-digital/litex/pulse" data-tab-item="i7insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /enjoy-digital/litex/pulse" data-ga-click="Repository, Navigation click, Insights tab" data-view-component="true" class="UnderlineNav-item hx_underlinenav-item no-wrap js-responsive-underlinenav-item">
    
                  <svg class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 1.75a.75.75 0 00-1.5 0v12.5c0 .414.336.75.75.75h14.5a.75.75 0 000-1.5H1.5V1.75zm14.28 2.53a.75.75 0 00-1.06-1.06L10 7.94 7.53 5.47a.75.75 0 00-1.06 0L3.22 8.72a.75.75 0 001.06 1.06L7 7.06l2.47 2.47a.75.75 0 001.06 0l5.25-5.25z"></path></svg>
          <span data-content="Insights">Insights</span>
            <span title="Not available" data-view-component="true" class="Counter"></span>

    
</a></li>
</ul>
      <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions  js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <details data-view-component="true" class="details-overlay details-reset position-relative">
  <summary role="button" data-view-component="true">          <div class="UnderlineNav-item mr-0 border-0">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
            <span class="sr-only">More</span>
          </div>
</summary>
  <div data-view-component="true">          <details-menu role="menu" data-view-component="true" class="dropdown-menu dropdown-menu-sw">
  
            <ul>
                <li data-menu-item="i0code-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex" href="https://github.com/enjoy-digital/litex">
                    Code
</a>                </li>
                <li data-menu-item="i1issues-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/issues" href="https://github.com/enjoy-digital/litex/issues">
                    Issues
</a>                </li>
                <li data-menu-item="i2pull-requests-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/pulls" href="https://github.com/enjoy-digital/litex/pulls">
                    Pull requests
</a>                </li>
                <li data-menu-item="i3actions-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/actions" href="https://github.com/enjoy-digital/litex/actions">
                    Actions
</a>                </li>
                <li data-menu-item="i4projects-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/projects" href="https://github.com/enjoy-digital/litex/projects">
                    Projects
</a>                </li>
                <li data-menu-item="i5wiki-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/wiki" href="https://github.com/enjoy-digital/litex/wiki">
                    Wiki
</a>                </li>
                <li data-menu-item="i6security-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/security" href="https://github.com/enjoy-digital/litex/security">
                    Security
</a>                </li>
                <li data-menu-item="i7insights-tab" hidden="">
                  <a role="menuitem" class="js-selected-navigation-item dropdown-item" data-selected-links=" /enjoy-digital/litex/pulse" href="https://github.com/enjoy-digital/litex/pulse">
                    Insights
</a>                </li>
            </ul>

</details-menu></div>
</details></div>
</nav>

  </div>


<div class="container-xl clearfix new-discussion-timeline px-3 px-md-4 px-lg-5">
  <div id="repo-content-pjax-container" class="repository-content ">

    
      
    <div class="js-check-all-container" data-pjax="">
      
    
    <div id="show_issue" class="js-issues-results js-socket-channel js-updatable-content" data-channel="eyJjIjoiaXNzdWU6NjQxNzU0MjU3OnRpbWVsaW5lIiwidCI6MTYyMjg0MDQ4Nn0=--f56943b23bbd0f87ea527d81a60d4da70c9c08ef5576496f7c4d52bda5c535ca">

      

  <div id="partial-discussion-header" class="gh-header mb-3 js-details-container Details js-socket-channel js-updatable-content issue" data-channel="eyJjIjoiaXNzdWU6NjQxNzU0MjU3IiwidCI6MTYyMjg0MDQ4Nn0=--743a9b8945197b19ea95579c9b7e22845d40c5e5c8f43608efb983eb3485c57d" data-url="/enjoy-digital/litex/issues/571/show_partial?partial=issues%2Ftitle&amp;sticky=true" data-gid="MDU6SXNzdWU2NDE3NTQyNTc=">
  <div class="gh-header-show ">
    <div class="d-flex flex-column flex-md-row">
      <div class="gh-header-actions mt-0 mt-md-2 mb-3 mb-md-0 ml-0 flex-md-order-1 flex-shrink-0 d-flex flex-items-start">


              <a href="https://github.com/enjoy-digital/litex/issues/new/choose" class="btn btn-sm btn-primary m-0 ml-2 ml-md-2" data-hotkey="c" data-ga-click="Issues, create new issue, view:issue_show location:issue_header style:button logged_in:true" data-skip-pjax="">
                New issue
              </a>
        <div class="flex-auto text-right d-block d-md-none">
          <a href="https://github.com/enjoy-digital/litex/issues/571#issue-comment-box" class="py-1">Jump to bottom</a>
        </div>
      </div>

    <h1 class="gh-header-title mb-2 lh-condensed f1 mr-0 flex-auto break-word">
      <span class="js-issue-title markdown-title" data-snek-id="issue-title">
        SPI master with DMA implementation
      </span>
      <span class="f1-light color-text-tertiary">#571</span>
    </h1>
    </div>
  </div>

  <div class="d-flex flex-items-center flex-wrap mt-0 gh-header-meta">
    <div class="flex-shrink-0 mb-2 flex-self-start flex-md-self-center">
        <span title="Status: Closed" data-view-component="true" class="State State--closed">
  <svg height="16" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 0110.65-5.003.75.75 0 00.959-1.153 8 8 0 102.592 8.33.75.75 0 10-1.444-.407A6.5 6.5 0 011.5 8zM8 12a1 1 0 100-2 1 1 0 000 2zm0-8a.75.75 0 01.75.75v3.5a.75.75 0 11-1.5 0v-3.5A.75.75 0 018 4zm4.78 4.28l3-3a.75.75 0 00-1.06-1.06l-2.47 2.47-.97-.97a.749.749 0 10-1.06 1.06l1.5 1.5a.75.75 0 001.06 0z"></path></svg> Closed
</span>
    </div>



    <div class="flex-auto min-width-0 mb-2">
        <a class="author text-bold Link--secondary" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>  opened this issue
<relative-time datetime="2020-06-19T07:02:28Z" class="no-wrap" title="Jun 19, 2020, 9:02 AM GMT+2">on Jun 19, 2020</relative-time>
· 12 comments

<span data-issue-and-pr-hovercards-enabled="">
  
</span>

    </div>
  </div>



    <div class="js-sticky-offset-scroll top-0 gh-header-sticky is-placeholder" style="visibility: hidden; display: block; height: 1px;"></div><div class="js-sticky js-sticky-offset-scroll top-0 gh-header-sticky is-stuck" data-original-top="0px" style="position: fixed; top: 0px !important; left: 148.5px; width: 1216px; margin-top: 0px;">
      <div class="sticky-content">
        <div class="d-flex flex-items-center flex-justify-between mt-2">
          <div class="d-flex flex-row flex-items-center min-width-0">
            <div class="mr-2 mb-2 flex-shrink-0">
                <span title="Status: Closed" data-view-component="true" class="State State--closed">
  <svg height="16" class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 0110.65-5.003.75.75 0 00.959-1.153 8 8 0 102.592 8.33.75.75 0 10-1.444-.407A6.5 6.5 0 011.5 8zM8 12a1 1 0 100-2 1 1 0 000 2zm0-8a.75.75 0 01.75.75v3.5a.75.75 0 11-1.5 0v-3.5A.75.75 0 018 4zm4.78 4.28l3-3a.75.75 0 00-1.06-1.06l-2.47 2.47-.97-.97a.749.749 0 10-1.06 1.06l1.5 1.5a.75.75 0 001.06 0z"></path></svg> Closed
</span>
            </div>



            <div class="min-width-0 mr-2 mb-2">
              <h1 class="d-flex text-bold f5">
  <a class="js-issue-title css-truncate css-truncate-target Link--primary width-fit markdown-title" href="https://github.com/enjoy-digital/litex/issues/571#">SPI master with DMA implementation</a>
  <span class="gh-header-number color-text-tertiary pl-1">#571</span>
</h1>

              <div class="meta color-text-tertiary css-truncate css-truncate-target d-block width-fit">
                  <a class="author text-bold Link--secondary" data-hovercard-z-index-override="111" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>  opened this issue
<relative-time datetime="2020-06-19T07:02:28Z" class="no-wrap" title="Jun 19, 2020, 9:02 AM GMT+2">on Jun 19, 2020</relative-time>
· 12 comments

<span data-issue-and-pr-hovercards-enabled="">
  
</span>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="gh-header-shadow color-shadow-small js-notification-shelf-offset-top" data-original-top="auto" style="top: 0px !important;"></div>
</div>


          <div class="d-block d-md-none border-bottom mb-4 f6">

      <div class="d-flex mb-3">
        <span class="text-bold color-text-secondary col-3 col-sm-2 flex-shrink-0">Labels</span>
        <div class="min-width-0 d-flex flex-wrap mt-n1">
            <a href="https://github.com/enjoy-digital/litex/labels/enhancement" data-name="enhancement" style="--label-r:0;--label-g:188;--label-b:212;--label-h:186;--label-s:100;--label-l:41;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1">
              <span class="css-truncate css-truncate-target width-fit">enhancement</span>
</a>            <a href="https://github.com/enjoy-digital/litex/labels/question" data-name="question" style="--label-r:232;--label-g:236;--label-b:241;--label-h:213;--label-s:24;--label-l:92;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1">
              <span class="css-truncate css-truncate-target width-fit">question</span>
</a>        </div>
      </div>


  </div>


      <h2 class="sr-only">Comments</h2>
      <div id="discussion_bucket">
        <div data-view-component="true" class="gutter-condensed gutter-lg flex-column flex-md-row d-flex">

  <div data-view-component="true" class="flex-shrink-0 col-12 col-md-9 mb-4 mb-md-0">            <div class="js-quote-selection-container" data-quote-markdown=".js-comment-body" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="">

              <div class="js-discussion js-socket-channel ml-0 pl-0 ml-md-6 pl-md-3" data-channel="eyJjIjoibWFya2VkLWFzLXJlYWQ6MTY0Mzk2IiwidCI6MTYyMjg0MDQ4Nn0=--cbb01d754ce82b8e9595aa4508ce6bf834a69d759df9b23dae43410e86374331" data-channel-target="MDU6SXNzdWU2NDE3NTQyNTc=">
                
<div class="TimelineItem pt-0 js-comment-container js-socket-channel js-updatable-content" data-gid="MDU6SXNzdWU2NDE3NTQyNTc=" data-url="/_render_node/MDU6SXNzdWU2NDE3NTQyNTc=/issues/body?variables%5BdeferredCommentActions%5D=true" data-channel="eyJjIjoiaXNzdWU6NjQxNzU0MjU3IiwidCI6MTYyMjg0MDQ4Nn0=--743a9b8945197b19ea95579c9b7e22845d40c5e5c8f43608efb983eb3485c57d">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>

  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issue-641754257">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="c2b32f4bd44a5183b5c57757d15f8ec2577d5a5a9f0ba0730f9681dbe8f68b41" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="o2KkcCPwDTHY6HYgNHmpkF8/1JX2JzJdH3oECIWTOIZK4wy+4xPPPAeH48oajtiLr5LsJOIFwCoENJtrGGYGFQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="jwq8JsT5zxAJSp//i/EMHXqvz/hs+OMCaQWygCfTVcX7QbNsyhgmrYVHkTyYdCS/TrTMfB9gW2mOfHs8rNhA1g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDU6SXNzdWU2NDE3NTQyNTc=">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issues/571/actions_menu?href=%23issue-641754257&amp;gid=MDU6SXNzdWU2NDE3NTQyNTc%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issue-641754257" id="issue-641754257-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-19T07:02:28Z" class="no-wrap" title="Jun 19, 2020, 9:02 AM GMT+2">on Jun 19, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hello,</p>
<p>I'd like to connect FPGA with the Silabs WF200 Wifi controller. From the IC spec, it basically requires SPI or SDIO bus interface. First of all, I want to try with SPI because it is simple, but I don't know how configure SPI with DMA to increase the performance. Is there any reference design including gateware and firmware to build a Vexrisc-V system with SPI and DMA?</p>
<p>Thank you.</p>
      </td>
    </tr>
      <tr class="d-block pl-3 pr-3 pb-3 js-comment-body-error" hidden="">
        <td class="d-block user-select-contain">
          <div class="flash flash-warn" role="alert">
            <p class="mb-1">
              <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-info">
    <path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
              The text was updated successfully, but these errors were encountered:
            </p>
              <ol class="mb-0 pl-4 ml-4"></ol>
          </div>
        </td>
      </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="zvFuqeN6ssmwloYixSv2OCuwR44mNzs1QDZxhUz8vXy6umHj7ZtbdDybiOHWrt6aH6tEClWvg16nT7g5x/eobw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDU6SXNzdWU2NDE3NTQyNTc=">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>

</div>


                
<div>

  
  <div id="js-timeline-progressive-loader" data-timeline-item-src="enjoy-digital/litex/timeline?id=MDU6SXNzdWU2NDE3NTQyNTc%3D&amp;variables%5Bafter%5D=Y3Vyc29yOnYyOpPPAAABcvta2tgAqTY1MDc3MDQ3OQ%3D%3D&amp;variables%5Bfirst%5D=60"></div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NjUwNzg5MQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NjUwNzg5MQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0NjUwNzg5MQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-646507891">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="b9cab5149ad68b60c780d5f72e9c30676b56cab2615ce06f77ebdbb331609b30" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="GNOc7gLJurd2Q85qiuRy/9cSh50qWNFPvI3e50x3N2LxUjQgwip4uqksW4CkEwPkJ7+/LD56Izinw0GE0YIJ8Q==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="VxHyJmBteUPXRNSDcVt69QBgNUM7UuTriF4U3SSjjvYjWv1sboyQ/ltJ2kBi3lJXNHs2x0jKXIBvJ91hr6ib5Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NjUwNzg5MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/646507891/comment_actions_menu?href=%23issuecomment-646507891&amp;gid=MDEyOklzc3VlQ29tbWVudDY0NjUwNzg5MQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the owner of the litex repository.">
      Owner
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-646507891" id="issuecomment-646507891-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-19T08:20:00Z" class="no-wrap" title="Jun 19, 2020, 10:20 AM GMT+2">on Jun 19, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi,</p>
<p>here is some code i prototyped some time ago (but haven't tested it on hardware).</p>
<p>This is designed to be used with SPIMaster (<a href="https://github.com/enjoy-digital/litex/blob/master/litex/soc/cores/spi.py">https://github.com/enjoy-digital/litex/blob/master/litex/soc/cores/spi.py</a>) and the idea is read data from Wishbone, write it to SPI and be able to control this DMA from the CPU:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-k">from</span> <span class="pl-s1">migen</span> <span class="pl-k">import</span> <span class="pl-c1">*</span>

<span class="pl-k">from</span> <span class="pl-s1">litex</span>.<span class="pl-s1">soc</span>.<span class="pl-s1">interconnect</span>.<span class="pl-s1">csr</span> <span class="pl-k">import</span> <span class="pl-c1">*</span>
<span class="pl-k">from</span> <span class="pl-s1">litex</span>.<span class="pl-s1">soc</span>.<span class="pl-s1">interconnect</span> <span class="pl-k">import</span> <span class="pl-s1">wishbone</span>

<span class="pl-v">SPI_START</span>  <span class="pl-c1">=</span> (<span class="pl-c1">1</span><span class="pl-c1">&lt;&lt;</span><span class="pl-c1">0</span>)
<span class="pl-v">SPI_LENGTH</span> <span class="pl-c1">=</span> (<span class="pl-c1">1</span><span class="pl-c1">&lt;&lt;</span><span class="pl-c1">8</span>)

<span class="pl-v">SPI_DONE</span>   <span class="pl-c1">=</span> (<span class="pl-c1">1</span><span class="pl-c1">&lt;&lt;</span><span class="pl-c1">0</span>)

<span class="pl-k">class</span> <span class="pl-v">Wishbone2SPIDMA</span>(<span class="pl-v">Module</span>, <span class="pl-v">AutoCSR</span>):
    <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>):
        <span class="pl-c"># Wishbone</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">bus</span> <span class="pl-c1">=</span> <span class="pl-s1">bus</span> <span class="pl-c1">=</span> <span class="pl-s1">wishbone</span>.<span class="pl-v">Interface</span>()

        <span class="pl-c"># Control</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">start</span> <span class="pl-c1">=</span> <span class="pl-v">CSR</span>()
        <span class="pl-s1">self</span>.<span class="pl-s1">done</span>  <span class="pl-c1">=</span> <span class="pl-v">CSRStatus</span>()

        <span class="pl-c"># Read parameters: base and length of DMA</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">read_base</span>   <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">read_length</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)

        <span class="pl-c"># SPI parameters: address of control/status/mosi registers</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_control_reg_address</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_status_reg_address</span>  <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_mosi_reg_address</span>    <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)

        <span class="pl-c"># # #</span>

        <span class="pl-c"># Shorten CSR's names</span>
        <span class="pl-s1">start</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">start</span>.<span class="pl-s1">re</span>
        <span class="pl-s1">done</span>  <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">done</span>.<span class="pl-s1">status</span>

        <span class="pl-s1">read_base</span>   <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">read_base</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]
        <span class="pl-s1">read_length</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">read_length</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]

        <span class="pl-s1">spi_mosi_reg_address</span>    <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_mosi_reg_address</span>.<span class="pl-s1">storage</span>
        <span class="pl-s1">spi_control_reg_address</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_control_reg_address</span>.<span class="pl-s1">storage</span>
        <span class="pl-s1">spi_status_reg_address</span>  <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_status_reg_address</span>.<span class="pl-s1">storage</span>

        <span class="pl-c"># internals</span>
        <span class="pl-s1">offset</span> <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">data</span>   <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)

        <span class="pl-c"># fsm</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">submodules</span>.<span class="pl-s1">fsm</span> <span class="pl-c1">=</span> <span class="pl-s1">fsm</span> <span class="pl-c1">=</span> <span class="pl-v">FSM</span>()
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"IDLE"</span>,
            <span class="pl-v">If</span>(<span class="pl-s1">start</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">offset</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-READ-DATA"</span>)
            ).<span class="pl-v">Else</span>(
                <span class="pl-s1">done</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            )
        )

        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-READ-DATA"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">read_base</span> <span class="pl-c1">+</span> <span class="pl-s1">offset</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">data</span>, <span class="pl-s1">bus</span>.<span class="pl-s1">dat_r</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"SPI-WRITE-DATA"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"SPI-WRITE-DATA"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_mosi_reg_address</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-s1">data</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"SPI-WRITE-START"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"SPI-WRITE-START"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_control_reg_address</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-v">SPI_START</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"SPI-WAIT-DONE"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"SPI-WAIT-DONE"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_status_reg_address</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">dat_r</span> <span class="pl-c1">&amp;</span> <span class="pl-v">SPI_DONE</span>,
                    <span class="pl-v">NextState</span>(<span class="pl-s">"INC-OFFSET"</span>)
                )
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"INC-OFFSET"</span>,
            <span class="pl-v">If</span>(<span class="pl-s1">offset</span> <span class="pl-c1">&gt;=</span> <span class="pl-s1">read_length</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"IDLE"</span>)
            ).<span class="pl-v">Else</span>(
                <span class="pl-v">NextValue</span>(<span class="pl-s1">offset</span>, <span class="pl-s1">offset</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-READ-DATA"</span>)
            )
        )


<span class="pl-k">if</span> <span class="pl-s1">__name__</span> <span class="pl-c1">==</span> <span class="pl-s">'__main__'</span>:
    <span class="pl-s1">dut</span> <span class="pl-c1">=</span> <span class="pl-v">Wishbone2SPIDMA</span>()
    <span class="pl-k">def</span> <span class="pl-en">dut_tb</span>(<span class="pl-s1">dut</span>):
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>)   <span class="pl-c"># always ack</span>
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">bus</span>.<span class="pl-s1">dat_r</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>) <span class="pl-c"># always return 1</span>
        <span class="pl-c"># configure DMA</span>
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">read_base</span>.<span class="pl-s1">storage</span>.<span class="pl-en">eq</span>(<span class="pl-c1">0x10000000</span>)
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">read_length</span>.<span class="pl-s1">storage</span>.<span class="pl-en">eq</span>(<span class="pl-c1">0x100</span>)
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">spi_mosi_reg_address</span>.<span class="pl-s1">storage</span>.<span class="pl-en">eq</span>(<span class="pl-c1">0x20000000</span>)
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">spi_control_reg_address</span>.<span class="pl-s1">storage</span>.<span class="pl-en">eq</span>(<span class="pl-c1">0x20000004</span>)
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">spi_status_reg_address</span>.<span class="pl-s1">storage</span>.<span class="pl-en">eq</span>(<span class="pl-c1">0x20000004</span>)
        <span class="pl-k">yield</span>
        <span class="pl-c"># start DMA</span>
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">start</span>.<span class="pl-s1">re</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>)
        <span class="pl-k">yield</span>
        <span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">start</span>.<span class="pl-s1">re</span>.<span class="pl-en">eq</span>(<span class="pl-c1">0</span>)
        <span class="pl-k">yield</span>
        <span class="pl-c"># wait DMA</span>
        <span class="pl-k">while</span> (<span class="pl-k">yield</span> <span class="pl-s1">dut</span>.<span class="pl-s1">done</span>.<span class="pl-s1">status</span>) <span class="pl-c1">==</span> <span class="pl-c1">0</span>:
            <span class="pl-k">yield</span>

    <span class="pl-en">run_simulation</span>(<span class="pl-s1">dut</span>, <span class="pl-en">dut_tb</span>(<span class="pl-s1">dut</span>), <span class="pl-s1">vcd_name</span><span class="pl-c1">=</span><span class="pl-s">"wb2spi_dma.vcd"</span>)</pre></div>
<p>To integrate it in your design, in your SoC:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c"># SPI Master</span>
<span class="pl-s1">self</span>.<span class="pl-s1">submodules</span>.<span class="pl-s1">spi</span> <span class="pl-c1">=</span> <span class="pl-v">SPIMaster</span>(<span class="pl-s1">pads</span>, <span class="pl-c1">32</span>, <span class="pl-s1">sys_clk_freq</span>, <span class="pl-s1">spi_clk_freq</span>)
<span class="pl-s1">self</span>.<span class="pl-en">add_csr</span>(<span class="pl-s">"spi"</span>)

<span class="pl-c">#SPI DMA</span>
<span class="pl-s1">self</span>.<span class="pl-s1">submodules</span>.<span class="pl-s1">spi_dma</span> <span class="pl-c1">=</span> <span class="pl-v">Wishbone2SPIDMA</span>()
<span class="pl-s1">self</span>.<span class="pl-en">add_csr</span>(<span class="pl-s">"spi_dma"</span>)
<span class="pl-s1">self</span>.<span class="pl-s1">bus</span>.<span class="pl-en">add_master</span>(<span class="pl-s1">self</span>.<span class="pl-s1">spi_dma</span>.<span class="pl-s1">bus</span>).</pre></div>
<p>You will then need to write the CPU software to configure the address of the SPI Master registers of your design and program the DMA transfer.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="C6YO9KuU34Q2jf4lUdSY+jSkfB9cpXmXTuZHn3uqxfl/7QG+pXU2ObqA8OZCUbBYAL9/my89wfypn44j8KHQ6g==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NjUwNzg5MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOkxhYmVsZWRFdmVudDM0NjE0NzUwMzE=">
  
        <div class="TimelineItem js-targetable-element" data-team-hovercards-enabled="" id="event-3461475031">
  <div class="TimelineItem-badge ">
    <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"></path></svg>
  </div>
  <div class="TimelineItem-body">

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>




      

    added
      
<a href="https://github.com/enjoy-digital/litex/labels/enhancement" data-name="enhancement" style="--label-r:0;--label-g:188;--label-b:212;--label-h:186;--label-s:100;--label-l:41;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle">
  enhancement
</a>
      
<a href="https://github.com/enjoy-digital/litex/labels/question" data-name="question" style="--label-r:232;--label-g:236;--label-b:241;--label-h:213;--label-s:24;--label-l:92;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle">
  question
</a>
  labels


    <a href="https://github.com/enjoy-digital/litex/issues/571#event-3461475031" class="Link--secondary"><relative-time datetime="2020-06-19T08:21:46Z" class="no-wrap" title="Jun 19, 2020, 10:21 AM GMT+2">on Jun 19, 2020</relative-time></a>

  </div>
</div>




</div>

    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-647010863">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="08bcbed1bcfbdf1aae40acd0fb3a320370edf9723471a71c98f4e8b1b6171b03" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="5y6N+NYOMz1EO5Ce1Shwk1AIFlIg0WmQYNUfZ7L49K8OryU2Fu3xMJtUBXT73wGIoKUu4zTzm+d7m4AELw3KPA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="PcCRahfTEPHBn03n3sHO9gaB4xxZNcq+3MG5r7nSo0JJi54gGTL5TE2SQyTNROZUMprgmCqtctU7uHATMtm2UQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/647010863/comment_actions_menu?href=%23issuecomment-647010863&amp;gid=MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-647010863" id="issuecomment-647010863-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-20T15:37:43Z" class="no-wrap" title="Jun 20, 2020, 5:37 PM GMT+2">on Jun 20, 2020</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi enjoy-digital,</p>
<p>Thanks for the reply.</p>
<p>I defined a function "add_spidma" in soc_linux.py</p>
<pre><code>        # SPI --------------------------------------------------------------------------------------
        def add_spi(self, data_width, clk_freq):
            spi_pads = self.platform.request("spi")
            self.submodules.spi = SPIMaster(spi_pads, data_width, self.clk_freq, clk_freq)
            self.add_csr("spi")

        # SPI DMA ----------------------------------------------------------------------------------
        def add_spidma(self):
            self.submodules.spi_dma = Wishbone2SPIDMA()
            self.add_csr("spi_dma")
            self.bus.add_master(self.spi_dma.bus)
</code></pre>
<p>Then called it from make.py</p>
<pre><code>        if "spidma" in board.soc_capabilities:
            soc.add_spidma()
</code></pre>
<p>Finally, I got the error:</p>
<pre><code>INFO:SoCCSRHandler:spi CSR allocated at Location 7.
INFO:SoCCSRHandler:spi_dma CSR allocated at Location 8.
Traceback (most recent call last):
  File "./make.py", line 463, in &lt;module&gt;
    main()
  File "./make.py", line 416, in main
    soc.add_spidma()
  File "/home/phuong/Workspace/FPGA/LITEX/linux-on-litex-vexriscv/soc_linux.py", line 133, in add_spidma
    self.bus.add_master(self.spi_dma.bus)
  File "/home/phuong/Workspace/FPGA/LITEX/linux-on-litex-vexriscv/litex/litex/soc/integration/soc.py", line 307, in add_master
    master = self.add_adapter(name, master)
  File "/home/phuong/Workspace/FPGA/LITEX/linux-on-litex-vexriscv/litex/litex/soc/integration/soc.py", line 286, in add_adapter
    if interface.data_width != self.data_width:
AttributeError: 'NoneType' object has no attribute 'data_width'
</code></pre>
<p>Please correct me if I'm wrong.<br>
Thanks</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="sD/8GPiNoni0xnB8NHQhjPO2k8U1meCQckh60P8QWLvEdPNS9mxLxTjLfr8n8Qkux62QQUYBWPuVMbNsdBtNqA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzAxMDg2Mw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzAzODE2MQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzAzODE2MQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0NzAzODE2MQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-647038161">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="d903d9819fea2631ecbc15410b6391848769cc9dac583c970459a8d6b94388f1" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="CshbELpIFkyJX9x86PkbPNvElEbmjkkFMIn0nKtGl9PjSfPeeqvUQVYwSZbGDmonK2ms9/Ksu3Irx2v/NrOpQA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="WVcVFZ8kJwsBLa+5NHNnBSNTR2LownT/lu7vATlCo3QtHBpfkcXOto0goXon9k+nF0hE5ptazJRxlya9skm2Zw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzAzODE2MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/647038161/comment_actions_menu?href=%23issuecomment-647038161&amp;gid=MDEyOklzc3VlQ29tbWVudDY0NzAzODE2MQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the owner of the litex repository.">
      Owner
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-647038161" id="issuecomment-647038161-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-20T19:46:08Z" class="no-wrap" title="Jun 20, 2020, 9:46 PM GMT+2">on Jun 20, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Sorry, there was a typo in the integration code, it's: <code>self.bus.add_master(master=self.spi_dma.bus)</code> and not <code>self.bus.add_master(self.spi_dma.bus)</code>.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="VivR9lwaimcvBp73bjxFqLWOqhZaSnTR9O6B9WfHR9ciYN68Uvtj2qMLkDR9uW0KgZWpkinSzLoTl0hJ7MxSxA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzAzODE2MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzYyMDcxMg==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzYyMDcxMg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0NzYyMDcxMg==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-647620712">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="777025213d0ed3cc4b4df582c44e7c5975b767538ef75d4d5d01180094ba5e0e" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="8GBmP2azb7j2+HNLIZyoHCLD59TUlgimyU5eANAf0b4Z4c7xplCttSmX5qEPa9kH0m7fZcC0+tHSAMFjTervLQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="LCe6w908pue5SC8+zHA2xvTb9glKWyoRJ7jizgehMZpYbLWJ091PWjVFIf3f9R5kwMD1jTnDknrAwStyjKokiQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzYyMDcxMg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/647620712/comment_actions_menu?href=%23issuecomment-647620712&amp;gid=MDEyOklzc3VlQ29tbWVudDY0NzYyMDcxMg%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-647620712" id="issuecomment-647620712-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-22T16:10:12Z" class="no-wrap" title="Jun 22, 2020, 6:10 PM GMT+2">on Jun 22, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi enjoy-digital,</p>
<p>After correcting the typo, I could compile the gateware successfully, but the DMA doesn't work.<br>
To check the SPI, I've tried first with normal mode:</p>
<pre><code>void spidma_test(void)
{
	unsigned int ctrl;

	/* SPI loopback config */
	spi_loopback_write(1);

	/* data to write */
	spi_mosi_write(0xA5);

	/* CS assert */
	spi_cs_write(1);

	/* SPI start, length = 32bits */
	ctrl = (8 &lt;&lt; 8) | (1 &lt;&lt; 0);

	spi_control_write(ctrl);

	while(!spi_status_read());

	/* CS de-assert */
	spi_cs_write(0);

	printf("MISO read %X\r\n", spi_miso_read());
}
</code></pre>
<p>Just added spidma_test into the bios command line for quick testing, then it worked properly, I could capture the waveform from the logic analyzer.</p>
<pre><code>        __   _ __      _  __
       / /  (_) /____ | |/_/
      / /__/ / __/ -_)&gt;  &lt;
     /____/_/\__/\__/_/|_|
   Build your hardware, easily!

 (c) Copyright 2012-2020 Enjoy-Digital
 (c) Copyright 2007-2015 M-Labs

 BIOS built on Jun 22 2020 22:34:16
 BIOS CRC passed (789a0fec)

 Migen git sha1: 19d5eae
 LiteX git sha1: 56e1528

--=============== SoC ==================--
CPU:       VexRiscv @ 100MHz
ROM:       32KB
SRAM:      4KB
L2:        8KB
MAIN-RAM:  262144KB

--========== Initialization ============--
Initializing SDRAM...
SDRAM now under software control
Read leveling:
m0, b0: |00000000000000000000000000000000| delays: -
m0, b1: |00000000000000000000000000000000| delays: -
m0, b2: |00000000000000000000000000000000| delays: -
m0, b3: |00000000000000000000000000000000| delays: -
m0, b4: |00000000000000000000000000000000| delays: -
m0, b5: |00000000000000000000000000000000| delays: -
m0, b6: |00111111111111110000000000000000| delays: 09+-06
m0, b7: |00000000000000000000000000000000| delays: -
best: m0, b6 delays: 09+-06
m1, b0: |00000000000000000000000000000000| delays: -
m1, b1: |00000000000000000000000000000000| delays: -
m1, b2: |00000000000000000000000000000000| delays: -
m1, b3: |00000000000000000000000000000000| delays: -
m1, b4: |00000000000000000000000000000000| delays: -
m1, b5: |00000000000000000000000000000000| delays: -
m1, b6: |00011111111111100000000000000000| delays: 09+-06
m1, b7: |00000000000000000000000000000000| delays: -
best: m1, b6 delays: 09+-06
SDRAM now under hardware control
Memtest OK
Memspeed Writes: 262Mbps Reads: 327Mbps

--============== Boot ==================--
Booting from serial...
Press Q or ESC to abort boot completely.
sL5DdSMmkekro
             Timeout
No boot medium found

--============= Console ================--
litex&gt; spidma
MISO read A5
</code></pre>
<p>For DMA mode, I've tried with the following code:</p>
<pre><code>void spidma_test(void)
{
	unsigned int *buffer = (unsigned int *)MAIN_RAM_BASE;

	/* initialize buffer */
	buffer[0] = 0xA5A5A5A5;
	buffer[1] = 0x12345678;
	buffer[2] = 0x87654321;
	buffer[3] = 0x11223344;

	/* SPI loopback config */
	spi_loopback_write(1);

	/* config frame length = 1 byte */
	spi_control_write(8 &lt;&lt; 8);

	/* initialize spi dma */
	spi_dma_spi_control_reg_address_write(CSR_SPI_CONTROL_ADDR);
	spi_dma_spi_status_reg_address_write(CSR_SPI_STATUS_ADDR);
	spi_dma_spi_mosi_reg_address_write(CSR_SPI_MOSI_ADDR);

	/* setup dma transfer */
	spi_dma_read_base_write(MAIN_RAM_BASE);
	spi_dma_read_length_write(16);

	/* CS assert */
	spi_cs_write(1);

	/* start dma transfer */
	spi_dma_start_write(1);
	spi_dma_start_write(0);

	/* wait for dma done */
	while(!spi_dma_done_read());

	/* CS de-assert */
	spi_cs_write(0);

	printf("DMA done! MISO read %X\r\n", spi_miso_read());
}
</code></pre>
<p>I got the result:</p>
<pre><code>--============= Console ================--
litex&gt; spidma
DMA done! MISO read 0
litex&gt; mr 0x40000000 16
Memory dump:
0x40000000  a5 a5 a5 a5 78 56 34 12 21 43 65 87 44 33 22 11  ....xV4.!Ce.D3".
litex&gt; 
</code></pre>
<p>There is no pulse on the analyzer display, csn pin didn't change.<br>
There are somethings wrong here.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="QOR5vLmiQg1Vwv2/9i9WWUS8kHCv3u9eyDIwsbp+NEU0r3b2t0OrsNnP83zlqn77cKeT9NxGVzUvS/kNMXUhVg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzYyMDcxMg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzYzMTM2MQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0NzYzMTM2MQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0NzYzMTM2MQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-647631361">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="655f04507fd5a018c7e53b69827c92cfbf9d22e23e1533ebb42ec479514a9478" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="YLs/HE+96jTKkH4hrwDH0pX+j7rF0cXbaSdcmOPmINyJOpfSj14oORX/68uB97bJZVO3C9HzN6xyacP7fhMeTw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="/TXpyDDpXfhBMSvYAC0wtrQVzaeMjxnJPmdNetwYxu+JfuaCPgi0Rc08JRsTqBgUgA7OI/8XoaLZHoTGVxPT/A==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzYzMTM2MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/647631361/comment_actions_menu?href=%23issuecomment-647631361&amp;gid=MDEyOklzc3VlQ29tbWVudDY0NzYzMTM2MQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the owner of the litex repository.">
      Owner
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-647631361" id="issuecomment-647631361-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-22T16:29:44Z" class="no-wrap" title="Jun 22, 2020, 6:29 PM GMT+2">on Jun 22, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>The way you are controlling the module seems fine, there are others typos in the Wishbone2SPIDMA code:</p>
<pre><code>spi_mosi_reg_address    = self.spi_mosi_reg_address.storage
spi_control_reg_address = self.spi_control_reg_address.storage
spi_status_reg_address  = self.spi_status_reg_address.storage
</code></pre>
<p>should be:</p>
<pre><code>spi_mosi_reg_address    = self.spi_mosi_reg_address.storage[2:]
spi_control_reg_address = self.spi_control_reg_address.storage[2:]
spi_status_reg_address  = self.spi_status_reg_address.storage[2:]
</code></pre>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="uy0whvPgA9R0ea4t/gEUhrnNV4OkV8Krs2kTVrFmGVzPZj/M/QHqafh0oO7thDwkjdZUB9fPesBUENrqOm0MTw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0NzYzMTM2MQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-648245214">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="55132a7249437d65affb956ac1a47cf14e9b2308ee4d2a0c490d23c64caf52d5" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="wkVchdaUxdWpE/S1Lk3KFvC6kgbf2x947t/VkrlVLKIrxPRLFncH2HZ8YV8AursNABeqt8v57Q/1kUrxJKASMQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="RJyNX04ecDsdnw2wVmfj8sSgI4I17JtB4QmzXRSjdiww14IVQP+ZhpGSA3NF4stQ8LsgBkZ0IyoGcHrhn6hjPw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/648245214/comment_actions_menu?href=%23issuecomment-648245214&amp;gid=MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-648245214" id="issuecomment-648245214-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-23T15:39:51Z" class="no-wrap" title="Jun 23, 2020, 5:39 PM GMT+2">on Jun 23, 2020</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi enjoy-digital,</p>
<p>Thanks for your help.</p>
<p>After adding [2:] the result was not changed.</p>
<p>I noticed there is a function in the csr.h like:</p>
<pre><code>static inline void spi_control_write(uint16_t v) {
	csr_write_simple(v &gt;&gt; 8, 0xf0003800L);
	csr_write_simple(v, 0xf0003804L);
}
</code></pre>
<p>It seems that my system is big-endian, then I've tried to modify the control register accessing in the dma.py:</p>
<pre><code>        fsm.act("SPI-WRITE-START",
            bus.stb.eq(1),
            bus.cyc.eq(1),
            bus.we.eq(1),
            bus.adr.eq(spi_control_reg_address),
            bus.dat_w.eq(SPI_START),
            If(bus.ack,
                NextState("SPI-WAIT-DONE")
            )
        )
</code></pre>
<p>Changed to:</p>
<pre><code>        fsm.act("SPI-WRITE-START",
            bus.stb.eq(1),
            bus.cyc.eq(1),
            bus.we.eq(1),
            bus.adr.eq(spi_control_reg_address + 4),
            bus.dat_w.eq(SPI_START),
            If(bus.ack,
                NextState("SPI-WAIT-DONE")
            )
        )
</code></pre>
<p>However, it still doesn't work.<br>
I have a question, does the code statement above can access the register by word, half-word, or byte? Does it allow unaligned access?</p>
<p>Thanks</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="C0Fd01reti1grrwP+q/11ccFhKZaABiWAgQVbIHCyKN/ClKZVD9fkOyjsszpKt138x6HIimYoP3lfdzQCsndsA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODI0NTIxNA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODI2OTQwMg==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODI2OTQwMg==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0ODI2OTQwMg==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-648269402">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="5fa4989984c196c231fa193122d6a0136a2cd46f6f2be20f37867f7f6ade6a0b" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="YSC+AsaQ/AK84d9damLbifVnxatru5MGXrjNBhsTdbuIoRbMBnM+D2OOSrdElaqSBcr9Gn+ZYXFF9lJlhuZLKA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="+zX1gdybGymfV1OcIFnp/L2j5jpOslp6NZUkop2bojKPfvrL0nrylBNaXV8z3MFeibjlvj0q4hHS7O0eFpC3IQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODI2OTQwMg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/648269402/comment_actions_menu?href=%23issuecomment-648269402&amp;gid=MDEyOklzc3VlQ29tbWVudDY0ODI2OTQwMg%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the owner of the litex repository.">
      Owner
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-648269402" id="issuecomment-648269402-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-23T16:20:21Z" class="no-wrap" title="Jun 23, 2020, 6:20 PM GMT+2">on Jun 23, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p><a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">@kamejoko80</a>: sorry i just realized for this work you will need to set <code>csr_data_width</code> to 32 in your SoC, otherwise you won't be able write the SPI control register with a single access as you noticed. (so change <code>csr_data_width</code> to 32 and use the [2:] change i was suggesting).</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="7ymZwENUwLCIGUIma1IJ/NCobcQFrNQpqtldoJDEoLSbYpaKTbUpDQQUTOV41yFe5LNuQHY0bEJNoJQcG8+1pw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODI2OTQwMg==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODQwNTAxNA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODQwNTAxNA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0ODQwNTAxNA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-648405014">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="c1d1f097efffe63263e24931bb5696f3082ebd1c3e3d463d604b376a78b01c11" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="smoBqpVQ+cBr9+ZfD0H1TFHOZhUC6ooXUUpfdPbGmgZb66lkVbM7zbSYc7UhtoRXoWNepBbIeGBKBMAXazOklQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="viouDNRtSDiIGVK2caS+bBftuunyhrE1G/kFzQQKw6bKYSFG2oyhhQQUXHViIZbOI/a5bYEeCV78gMxxjwHWtQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODQwNTAxNA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/648405014/comment_actions_menu?href=%23issuecomment-648405014&amp;gid=MDEyOklzc3VlQ29tbWVudDY0ODQwNTAxNA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-648405014" id="issuecomment-648405014-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-23T20:38:55Z" class="no-wrap" title="Jun 23, 2020, 10:38 PM GMT+2">on Jun 23, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi enjoy-digital,</p>
<p>Thanks for pointing out my mistake,</p>
<p>To make the DMA copy whole bytes in the buffer I've modified a little bit:</p>
<pre><code>from migen import *

from litex.soc.interconnect.csr import *
from litex.soc.interconnect import wishbone

SPI_START  = ((8&lt;&lt;8) | (1&lt;&lt;0))
SPI_LENGTH = (1&lt;&lt;8)
SPI_DONE   = (1&lt;&lt;0)

class Wishbone2SPIDMA(Module, AutoCSR):
    def __init__(self):
        # Wishbone
        self.bus = bus = wishbone.Interface()

        # Control
        self.start = CSR()
        self.done  = CSRStatus()

        # Read parameters: base and length of DMA
        self.read_base   = CSRStorage(32)
        self.read_length = CSRStorage(32)

        # SPI parameters: address of control/status/mosi registers
        self.spi_control_reg_address = CSRStorage(32)
        self.spi_status_reg_address  = CSRStorage(32)
        self.spi_mosi_reg_address    = CSRStorage(32)

        # # #

        # Shorten CSR's names
        start = self.start.re
        done  = self.done.status

        read_base   = self.read_base.storage[2:]
        read_length = self.read_length.storage

        spi_mosi_reg_address    = self.spi_mosi_reg_address.storage[2:]
        spi_control_reg_address = self.spi_control_reg_address.storage[2:]
        spi_status_reg_address  = self.spi_status_reg_address.storage[2:]

        # internals
        word_offset = Signal(32)
        byte_offset = Signal(3)
        byte_count  = Signal(32)
        data        = Signal(32)

        # fsm
        self.submodules.fsm = fsm = FSM()
        fsm.act("IDLE",
            If(start,
                NextValue(word_offset, 0),
                NextValue(byte_offset, 0),
                NextValue(byte_count, 0),
                NextState("WISHBONE-READ-DATA")
            ).Else(
                done.eq(1),
            )
        )
        fsm.act("WISHBONE-READ-DATA",
            bus.stb.eq(1),
            bus.cyc.eq(1),
            bus.adr.eq(read_base + word_offset),
            If(bus.ack,
                NextValue(data, bus.dat_r),
                NextState("SPI-WRITE-DATA")
            )
        )
        fsm.act("SPI-WRITE-DATA",
            bus.stb.eq(1),
            bus.cyc.eq(1),
            bus.we.eq(1),
            bus.adr.eq(spi_mosi_reg_address),
            bus.dat_w.eq(data),
            If(bus.ack,
                NextState("SPI-WRITE-START")
            )
        )
        fsm.act("SPI-WRITE-START",
            bus.stb.eq(1),
            bus.cyc.eq(1),
            bus.we.eq(1),
            bus.adr.eq(spi_control_reg_address),
            bus.dat_w.eq(SPI_START),
            If(bus.ack,
                NextState("SPI-WAIT-DONE")
            )
        )
        fsm.act("SPI-WAIT-DONE",
            bus.stb.eq(1),
            bus.cyc.eq(1),
            bus.adr.eq(spi_status_reg_address),
            If(bus.ack,
                If(bus.dat_r &amp; SPI_DONE,
                    NextValue(byte_count, byte_count + 1),
                    NextValue(byte_offset, byte_offset + 1),
                    NextState("SHIFT-BYTE")
                )
            )
        )
        fsm.act("SHIFT-BYTE",
            If(byte_count &gt;= read_length,
                NextState("IDLE")
            ).Elif(byte_offset &gt;= 4,
                NextValue(byte_offset, 0),
                NextState("INC-WORD-OFFSET")
            ).Else(
                NextValue(data, data &gt;&gt; 8),
                NextState("SPI-WRITE-DATA")
            )
        )
        fsm.act("INC-WORD-OFFSET",
            NextValue(word_offset, word_offset + 1),
            NextState("WISHBONE-READ-DATA")
        )
</code></pre>
<p>Also changed the firmware:</p>
<pre><code>	unsigned int *buffer = (unsigned int *)MAIN_RAM_BASE;

	/* initialize buffer */
	buffer[0] = 0xA5A5A5A5;
	buffer[1] = 0x12345678;
	buffer[2] = 0x87654321;
	buffer[3] = 0x11223344;

	/* SPI loopback config */
	spi_loopback_write(1);

	/* config frame length = 1 byte */
	//spi_control_write(8 &lt;&lt; 8);

	/* initialize spi dma */
	spi_dma_spi_control_reg_address_write(CSR_SPI_CONTROL_ADDR);
	spi_dma_spi_status_reg_address_write(CSR_SPI_STATUS_ADDR);
	spi_dma_spi_mosi_reg_address_write(CSR_SPI_MOSI_ADDR);

	/* setup dma transfer */
	spi_dma_read_base_write(MAIN_RAM_BASE);
	spi_dma_read_length_write(16);

	/* CS assert */
	spi_cs_write(1);

	/* start dma transfer */
	spi_dma_start_write(1);
	spi_dma_start_write(0);

	/* wait for dma done */
	while(!spi_dma_done_read());

	/* CS de-assert */
	spi_cs_write(0);

	printf("DMA done! MISO read %X\r\n", spi_miso_read());
</code></pre>
<p>By checking on the logic analyzer's display I saw the bytes are shifted out perfectly.<br>
Next step I'll try to modify the dma.py to support the DMA RX part.</p>
<p>Thank you,</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="pohq/6uT/jptnFoZghV8yAybdpCfekkEK9UDhMhEBDfSw2W1pXIXh+GRVNqRkFRqOIB1FOzi8W/MrMo4Q08RJA==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODQwNTAxNA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODYwOTE1NQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODYwOTE1NQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0ODYwOTE1NQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-648609155">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="2c4b5fa94f1ef2b84684a9c0acff7942dd9e1bf43659cc6597baafcaeccef70c" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="BLcRSsZV2UQeH2Ru6kRsTK9WmLFbJRq7UC2+yhhGVI7tNrmEBrYbScFw8YTEsx1XX/ugAE8H6MxLYyGphbNqHQ==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="9z9PB8/Pd680IRJUJCsaQDfpslZCZOnyaksJvr41djaDdEBNwS6eErgsHJc3rjLiA/Kx0jH8UZmNMsACNT5jJQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODYwOTE1NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/648609155/comment_actions_menu?href=%23issuecomment-648609155&amp;gid=MDEyOklzc3VlQ29tbWVudDY0ODYwOTE1NQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    

    <span class="timeline-comment-label text-bold tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the owner of the litex repository.">
      Owner
    </span>


  

  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-648609155" id="issuecomment-648609155-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-24T06:01:06Z" class="no-wrap" title="Jun 24, 2020, 8:01 AM GMT+2">on Jun 24, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi <a class="user-mention" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">@kamejoko80</a>,</p>
<p>great you got it working! In case you release your project, feel free to share it with us, it would make a good example and we could add a link to it to the wiki.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="D2Yf0yNRaeoIEB/lxFz2uWhwTZe/rmKlkflcTCIe5TF7LRCZLbCAV4QdESbX2d4bXGtOE8w22s52gJXwqRXwIg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODYwOTE1NQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDExOkNsb3NlZEV2ZW50MzQ3NTkxMTU3Mg==">
  
        <div class="TimelineItem js-targetable-element" data-team-hovercards-enabled="" id="event-3475911572">
  <div class="TimelineItem-badge color-text-white color-bg-danger-inverse">
    <svg class="octicon octicon-issue-closed" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 0110.65-5.003.75.75 0 00.959-1.153 8 8 0 102.592 8.33.75.75 0 10-1.444-.407A6.5 6.5 0 011.5 8zM8 12a1 1 0 100-2 1 1 0 000 2zm0-8a.75.75 0 01.75.75v3.5a.75.75 0 11-1.5 0v-3.5A.75.75 0 018 4zm4.78 4.28l3-3a.75.75 0 00-1.06-1.06l-2.47 2.47-.97-.97a.749.749 0 10-1.06 1.06l1.5 1.5a.75.75 0 001.06 0z"></path></svg>
  </div>
  <div class="TimelineItem-body">

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital"><img class="avatar avatar-user" height="20" width="20" alt="@enjoy-digital" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(1)"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">enjoy-digital</a>




      
closed this


    <a href="https://github.com/enjoy-digital/litex/issues/571#event-3475911572" class="Link--secondary"><relative-time datetime="2020-06-24T06:01:08Z" class="no-wrap" title="Jun 24, 2020, 8:01 AM GMT+2">on Jun 24, 2020</relative-time></a>

  </div>
</div>

  <div class="TimelineItem-break"></div>



</div>

    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODY0NjEyNw==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY0ODY0NjEyNw==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY0ODY0NjEyNw==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-648646127">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="fe6aed985b87a6a702f7eedfd03ee2553220f56286eeda0398ffec9ed7a5d0b5" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="63p/yPC1O9Nwh2JyMzCTzgcu+lOzcRm0dN71Nrj1Zc8C+9cGMFb53q/o95gdx+LV94PC4qdT68NvkGpVJQBbXA==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="0+JjDi+Upz8VLWnrj1uTaVm1Yg+peDVdvW3G9MUXEfKnqWxEIXVOgpkgZyic3rvLba5hi9rgjTZaFA9IThwE4Q==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODY0NjEyNw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/648646127/comment_actions_menu?href=%23issuecomment-648646127&amp;gid=MDEyOklzc3VlQ29tbWVudDY0ODY0NjEyNw%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-648646127" id="issuecomment-648646127-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-24T07:26:58Z" class="no-wrap" title="Jun 24, 2020, 9:26 AM GMT+2">on Jun 24, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi enjoy-digital,</p>
<p>Yes, I will do.</p>
<p>Thank you very much.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="Z4nWBjLPjRhdYML5QgrKMcbPGYK9DkhHYkPM/SG+P0ITwtlMPC5kpdFtzDpRj+KT8tQaBs6W8CyFOgVBqrUqUQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY0ODY0NjEyNw==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-650558544">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="9fb9d46912b14d384380ca2af30a04cf94a00b63542bc21200c342b3122725b5" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="5yjFD7e1CvC+YE8akqE1t2UTBks7UFvEulrLLpb/rpQOqW3Bd1bI/WEP2vC8VkSslb4++i9yqbOhFFRNCwqQBw==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="FA399y1k5pbGXcFVoPVozQeq01w3chko/TCFxs/TISxgRvK9I4UPK0pQz5azcEBvM7HQ2ETqoUMaSUx6RNg0Pw==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/650558544/comment_actions_menu?href=%23issuecomment-650558544&amp;gid=MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-650558544" id="issuecomment-650558544-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-27T13:02:16Z" class="no-wrap" title="Jun 27, 2020, 3:02 PM GMT+2">on Jun 27, 2020</relative-time></a>


    <span class="js-comment-edit-history">
        
  <span class="d-inline-block color-text-tertiary">•</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-text-secondary js-notice" aria-haspopup="menu" role="button">
      <div class="position-relative">
        <span>
            edited
        </span>
        <svg class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg>
      </div>
    </summary>
    <details-menu class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu" style="max-width: 352px; z-index: 99;" src="/_render_node/MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA==/comments/comment_edit_history_log" preload="" role="menu">
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading..."><svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg></include-fragment>
    </details-menu>
  </details>

    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hi enjoy-digital,</p>
<p>I've added DMA RX part and consolidated the source code, but I could not write the MISO register's contain to the DMA RX RAM buffer:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-c">#!/usr/bin/env python3</span>

<span class="pl-k">from</span> <span class="pl-s1">migen</span> <span class="pl-k">import</span> <span class="pl-c1">*</span>

<span class="pl-k">from</span> <span class="pl-s1">litex</span>.<span class="pl-s1">soc</span>.<span class="pl-s1">interconnect</span>.<span class="pl-s1">csr</span> <span class="pl-k">import</span> <span class="pl-c1">*</span>
<span class="pl-k">from</span> <span class="pl-s1">litex</span>.<span class="pl-s1">soc</span>.<span class="pl-s1">interconnect</span> <span class="pl-k">import</span> <span class="pl-s1">wishbone</span>

<span class="pl-v">SPI_START</span>  <span class="pl-c1">=</span> ((<span class="pl-c1">8</span><span class="pl-c1">&lt;&lt;</span><span class="pl-c1">8</span>) <span class="pl-c1">|</span> (<span class="pl-c1">1</span><span class="pl-c1">&lt;&lt;</span><span class="pl-c1">0</span>))
<span class="pl-v">SPI_DONE</span>   <span class="pl-c1">=</span> (<span class="pl-c1">1</span><span class="pl-c1">&lt;&lt;</span><span class="pl-c1">0</span>)

<span class="pl-k">class</span> <span class="pl-v">Wishbone2SPIDMA</span>(<span class="pl-v">Module</span>, <span class="pl-v">AutoCSR</span>):
    <span class="pl-k">def</span> <span class="pl-en">__init__</span>(<span class="pl-s1">self</span>):
        <span class="pl-c"># Wishbone</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">bus</span> <span class="pl-c1">=</span> <span class="pl-s1">bus</span> <span class="pl-c1">=</span> <span class="pl-s1">wishbone</span>.<span class="pl-v">Interface</span>()

        <span class="pl-c"># Control</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">start</span> <span class="pl-c1">=</span> <span class="pl-v">CSR</span>()
        <span class="pl-s1">self</span>.<span class="pl-s1">done</span>  <span class="pl-c1">=</span> <span class="pl-v">CSRStatus</span>()

        <span class="pl-c"># Read parameters: tx source address and length of DMA</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">tx_src_addr</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>) <span class="pl-c"># DMA TX source address</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">rx_dst_addr</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>) <span class="pl-c"># DMA RX destination address</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">tx_len</span>      <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>) <span class="pl-c"># DMA TX size (bytes)</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">rx_ena</span>      <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>) <span class="pl-c"># DMA RX enable</span>

        <span class="pl-c"># SPI parameters: address of control/status/mosi registers</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_control_reg_address</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_status_reg_address</span>  <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_mosi_reg_address</span>    <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">spi_miso_reg_address</span>    <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)

        <span class="pl-c"># DMA debug</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">debug0</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">debug1</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">debug2</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">debug3</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)

        <span class="pl-c"># # #</span>

        <span class="pl-c"># Shorten CSR's names</span>
        <span class="pl-s1">start</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">start</span>.<span class="pl-s1">re</span>
        <span class="pl-s1">done</span>  <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">done</span>.<span class="pl-s1">status</span>

        <span class="pl-s1">tx_src_addr</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">tx_src_addr</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]
        <span class="pl-s1">rx_dst_addr</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">rx_dst_addr</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]
        <span class="pl-s1">tx_len</span>      <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">tx_len</span>.<span class="pl-s1">storage</span>
        <span class="pl-s1">rx_ena</span>      <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">rx_ena</span>

        <span class="pl-s1">spi_mosi_reg_address</span>    <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_mosi_reg_address</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]
        <span class="pl-s1">spi_miso_reg_address</span>    <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_miso_reg_address</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]
        <span class="pl-s1">spi_control_reg_address</span> <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_control_reg_address</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]
        <span class="pl-s1">spi_status_reg_address</span>  <span class="pl-c1">=</span> <span class="pl-s1">self</span>.<span class="pl-s1">spi_status_reg_address</span>.<span class="pl-s1">storage</span>[<span class="pl-c1">2</span>:]

        <span class="pl-c"># internals</span>
        <span class="pl-s1">word_offset</span> <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">byte_offset</span> <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">3</span>)
        <span class="pl-s1">byte_count</span>  <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">tx_data</span>     <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">rx_data</span>     <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">miso_data</span>   <span class="pl-c1">=</span> <span class="pl-v">Signal</span>(<span class="pl-c1">32</span>)

        <span class="pl-c"># fsm</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">submodules</span>.<span class="pl-s1">fsm</span> <span class="pl-c1">=</span> <span class="pl-s1">fsm</span> <span class="pl-c1">=</span> <span class="pl-v">FSM</span>()
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"IDLE"</span>,
            <span class="pl-v">If</span>(<span class="pl-s1">start</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">word_offset</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_offset</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_count</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextValue</span>(<span class="pl-s1">rx_data</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-READ-TX-DMA-BUFF"</span>)
            ).<span class="pl-v">Else</span>(
                <span class="pl-s1">done</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-READ-TX-DMA-BUFF"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">tx_src_addr</span> <span class="pl-c1">+</span> <span class="pl-s1">word_offset</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">tx_data</span>, <span class="pl-s1">bus</span>.<span class="pl-s1">dat_r</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-WRITE-MOSI-REG"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-WRITE-MOSI-REG"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_mosi_reg_address</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-s1">tx_data</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-WRITE-CONTROL-START"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-WRITE-CONTROL-START"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_control_reg_address</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-v">SPI_START</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"SPI-WAIT-DONE"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"SPI-WAIT-DONE"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_status_reg_address</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">dat_r</span> <span class="pl-c1">&amp;</span> <span class="pl-v">SPI_DONE</span>,
                    <span class="pl-v">If</span>(<span class="pl-s1">rx_ena</span> <span class="pl-c1">==</span> <span class="pl-c1">0</span>,
                        <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_count</span>, <span class="pl-s1">byte_count</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>),
                        <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_offset</span>, <span class="pl-s1">byte_offset</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>),
                        <span class="pl-v">NextState</span>(<span class="pl-s">"SHIFT-BYTE"</span>)
                    ).<span class="pl-v">Else</span>(
                        <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_count</span>, <span class="pl-s1">byte_count</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>),
                        <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_offset</span>, <span class="pl-s1">byte_offset</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>),
                        <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-READ-MISO-REG"</span>)
                    )
                )
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-READ-MISO-REG"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">spi_miso_reg_address</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">miso_data</span>, <span class="pl-s1">bus</span>.<span class="pl-s1">dat_r</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"SHIFT-BYTE"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-WRITE-RX-DMA-BUFF-LAST"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_dst_addr</span> <span class="pl-c1">+</span> <span class="pl-s1">word_offset</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_data</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"IDLE"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-WRITE-RX-DMA-BUFF"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_dst_addr</span> <span class="pl-c1">+</span> <span class="pl-s1">word_offset</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_data</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">rx_data</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"INC-WORD-OFFSET"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"SHIFT-BYTE"</span>,
            <span class="pl-v">If</span>(<span class="pl-s1">byte_count</span> <span class="pl-c1">&gt;=</span> <span class="pl-s1">tx_len</span>,
                <span class="pl-v">If</span>(<span class="pl-s1">rx_ena</span> <span class="pl-c1">==</span> <span class="pl-c1">0</span>,
                    <span class="pl-v">NextState</span>(<span class="pl-s">"IDLE"</span>)
                ).<span class="pl-v">Else</span>(
                    <span class="pl-v">NextValue</span>(<span class="pl-s1">rx_data</span>, (<span class="pl-s1">rx_data</span> <span class="pl-c1">&lt;&lt;</span> <span class="pl-c1">8</span>) <span class="pl-c1">|</span> <span class="pl-s1">miso_data</span>[<span class="pl-c1">0</span>:<span class="pl-c1">8</span>]),
                    <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-WRITE-RX-DMA-BUFF-LAST"</span>)
                )
            ).<span class="pl-v">Elif</span>(<span class="pl-s1">byte_offset</span> <span class="pl-c1">&gt;=</span> <span class="pl-c1">4</span>,
                <span class="pl-v">If</span>(<span class="pl-s1">rx_ena</span> <span class="pl-c1">==</span> <span class="pl-c1">0</span>,
                    <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_offset</span>, <span class="pl-c1">0</span>),
                    <span class="pl-v">NextState</span>(<span class="pl-s">"INC-WORD-OFFSET"</span>)
                ).<span class="pl-v">Else</span>(
                    <span class="pl-v">NextValue</span>(<span class="pl-s1">byte_offset</span>, <span class="pl-c1">0</span>),
                    <span class="pl-v">NextValue</span>(<span class="pl-s1">rx_data</span>, (<span class="pl-s1">rx_data</span> <span class="pl-c1">&lt;&lt;</span> <span class="pl-c1">8</span>) <span class="pl-c1">|</span> <span class="pl-s1">miso_data</span>[<span class="pl-c1">0</span>:<span class="pl-c1">8</span>]),
                    <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-WRITE-RX-DMA-BUFF"</span>)
                )
            ).<span class="pl-v">Else</span>(
                <span class="pl-v">NextValue</span>(<span class="pl-s1">rx_data</span>, (<span class="pl-s1">rx_data</span> <span class="pl-c1">&lt;&lt;</span> <span class="pl-c1">8</span>) <span class="pl-c1">|</span> <span class="pl-s1">miso_data</span>[<span class="pl-c1">0</span>:<span class="pl-c1">8</span>]),
                <span class="pl-v">NextValue</span>(<span class="pl-s1">tx_data</span>, <span class="pl-s1">tx_data</span> <span class="pl-c1">&gt;&gt;</span> <span class="pl-c1">8</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-WRITE-MOSI-REG"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"INC-WORD-OFFSET"</span>,
            <span class="pl-v">NextValue</span>(<span class="pl-s1">word_offset</span>, <span class="pl-s1">word_offset</span> <span class="pl-c1">+</span> <span class="pl-c1">1</span>),
            <span class="pl-v">NextState</span>(<span class="pl-s">"WISHBONE-READ-TX-DMA-BUFF"</span>)
        )</pre></div>
<p>I'm stuck at the following code statement that attempts to copy a word from rx_data to the destination RAM buffer @ rx_dst_addr + word_offset.</p>
<div class="highlight highlight-source-python"><pre>       <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-WRITE-RX-DMA-BUFF-LAST"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_dst_addr</span> <span class="pl-c1">+</span> <span class="pl-s1">word_offset</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_data</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextState</span>(<span class="pl-s">"IDLE"</span>)
            )
        )
        <span class="pl-s1">fsm</span>.<span class="pl-en">act</span>(<span class="pl-s">"WISHBONE-WRITE-RX-DMA-BUFF"</span>,
            <span class="pl-s1">bus</span>.<span class="pl-s1">stb</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">cyc</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">we</span>.<span class="pl-en">eq</span>(<span class="pl-c1">1</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">adr</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_dst_addr</span> <span class="pl-c1">+</span> <span class="pl-s1">word_offset</span>),
            <span class="pl-s1">bus</span>.<span class="pl-s1">dat_w</span>.<span class="pl-en">eq</span>(<span class="pl-s1">rx_data</span>),
            <span class="pl-v">If</span>(<span class="pl-s1">bus</span>.<span class="pl-s1">ack</span>,
                <span class="pl-v">NextValue</span>(<span class="pl-s1">rx_data</span>, <span class="pl-c1">0</span>),
                <span class="pl-v">NextState</span>(<span class="pl-s">"INC-WORD-OFFSET"</span>)
            )
        )</pre></div>
<p>Instead of copy to RAM, I've temporarily declared 4 CSRStorage and passed the address to the rx_dst_addr register then I saw<br>
the results are correct.</p>
<div class="highlight highlight-source-python"><pre>        <span class="pl-c"># DMA debug</span>
        <span class="pl-s1">self</span>.<span class="pl-s1">debug0</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">debug1</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">debug2</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)
        <span class="pl-s1">self</span>.<span class="pl-s1">debug3</span> <span class="pl-c1">=</span> <span class="pl-v">CSRStorage</span>(<span class="pl-c1">32</span>)</pre></div>
<div class="highlight highlight-source-c"><pre>	<span class="pl-c"><span class="pl-c">/*</span> setup dma transfer <span class="pl-c">*/</span></span>
	<span class="pl-en">spi_dma_tx_src_addr_write</span>(MAIN_RAM_BASE);
	<span class="pl-c"><span class="pl-c">//</span>spi_dma_rx_dst_addr_write(MAIN_RAM_BASE + 16); /* DMA RX buffer's address  */</span>
	<span class="pl-en">spi_dma_rx_dst_addr_write</span>(CSR_SPI_DMA_DEBUG0_ADDR); <span class="pl-c"><span class="pl-c">/*</span> Write the results to the CSRs  <span class="pl-c">*/</span></span>
	<span class="pl-en">spi_dma_tx_len_write</span>(<span class="pl-c1">16</span>);
	<span class="pl-en">spi_dma_rx_ena_write</span>(<span class="pl-c1">1</span>);

        ...

#<span class="pl-k">if</span> <span class="pl-c1">0</span>
        printf("rx_buff[0]          %X\r\n", rx_buff[0]);
        printf("rx_buff[1]          %X\r\n", rx_buff[1]);
        printf("rx_buff[2]          %X\r\n", rx_buff[2]);
        printf("rx_buff[3]          %X\r\n", rx_buff[3]);
#<span class="pl-k">else</span>
	<span class="pl-en">printf</span>(<span class="pl-s"><span class="pl-pds">"</span>rx_buff[0]          <span class="pl-c1">%X</span><span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>, spi_dma_debug0_read());
	<span class="pl-en">printf</span>(<span class="pl-s"><span class="pl-pds">"</span>rx_buff[1]          <span class="pl-c1">%X</span><span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>, spi_dma_debug1_read());
	<span class="pl-en">printf</span>(<span class="pl-s"><span class="pl-pds">"</span>rx_buff[2]          <span class="pl-c1">%X</span><span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>, spi_dma_debug2_read());
	<span class="pl-en">printf</span>(<span class="pl-s"><span class="pl-pds">"</span>rx_buff[3]          <span class="pl-c1">%X</span><span class="pl-cce">\r\n</span><span class="pl-pds">"</span></span>, spi_dma_debug3_read());
#<span class="pl-k">endif</span>
</pre></div>
<p>I don't know why the above code statement could copy the data to the CSRStorages but it couldn't in cases of RAM buffer?</p>
<p>Thanks for your help.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="9SHGXou/7TUmtmhCiJMe8EfpDCK3MM5R67EMZefDU9KBaskUhV4EiKq7ZoGbFjZSc/IPpsSodjoMyMXZbMhGwQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY1MDU1ODU0NA==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>


    
<div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDY1MDc3MDQ3OQ==">
  
    
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDY1MDc3MDQ3OQ==" data-url="/_render_node/MDEyOklzc3VlQ29tbWVudDY1MDc3MDQ3OQ==/timeline/issue_comment?variables%5BdeferredCommentActions%5D=false">

  
<div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="40" width="40" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372"></a>

</div>


  <div class=" timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-650770479">
    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="86e802ec31d234073ce4fffc5e6f5ea36b144d21a4e5d4c5bd58fdc9f28a5be6" data-unfurl-hide-url="/content_reference_attachments/hide">
      <input type="hidden" value="jDCb+lRnqwbZnXe7g5Z4DQWsIlJnnHLoz7xUMB33O9FlsTM0lIRpCwby4lGtYQkW9QEa43O+gJ/U8stTgAIFQg==" data-csrf="true" class="js-data-unfurl-hide-url-csrf">

      
<div class="timeline-comment-header clearfix d-block d-sm-flex">
  <div class="timeline-comment-actions flex-shrink-0">
      


  
  <details class="details-overlay details-reset position-relative js-reaction-popover-container js-comment-header-reaction-button d-none d-md-inline-block">
    <summary class="btn-link Link--secondary timeline-comment-action" aria-label="Add your reaction" aria-haspopup="menu" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
    </summary>
    
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-sw mr-n1 mt-n1" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="o+nRXHUVwKKLXKcqDqlh6Qd/H9/b0O08Ba2R2C7QMAXXot4We/QpHwdRqekdLElLM2QcW6hIVVfi1FhkpdslFg==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY1MDc3MDQ3OQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

  </details>


<details class="details-overlay details-reset position-relative d-inline-block">
  <summary class="btn-link timeline-comment-action Link--secondary" aria-haspopup="menu" role="button">
    <svg aria-label="Show options" role="img" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
</svg>
  </summary>
    <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-text-primary anim-scale-in" style="width:185px" src="/enjoy-digital/litex/issue_comments/650770479/comment_actions_menu?href=%23issuecomment-650770479&amp;gid=MDEyOklzc3VlQ29tbWVudDY1MDc3MDQ3OQ%3D%3D" preload="" role="menu">
      <include-fragment>
        <p class="text-center mt-3" data-hide-on-error="">
          <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
        </p>
        <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
          Sorry, something went wrong.
        </p>
        </include-fragment>
    </details-menu>
</details>


  </div>

  <div class="d-none d-sm-flex">


      



    



  <span class="timeline-comment-label tooltipped tooltipped-multiline tooltipped-s" aria-label="This user is the author of this issue.">
  Author
</span>


  </div>

  <h3 class="timeline-comment-header-text f5 text-normal">


        <a class="d-inline-block d-md-none" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80"><img class="avatar rounded-1 avatar-user" height="20" width="20" alt="@kamejoko80" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(1)"></a>

    <strong class="css-truncate">
      

  <a class="author Link--primary css-truncate-target width-fit" show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">kamejoko80</a>
  

    </strong>


    commented


      <a href="https://github.com/enjoy-digital/litex/issues/571#issuecomment-650770479" id="issuecomment-650770479-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2020-06-28T14:35:35Z" class="no-wrap" title="Jun 28, 2020, 4:35 PM GMT+2">on Jun 28, 2020</relative-time></a>


    <span class="js-comment-edit-history">
    </span>
  </h3>
</div>


      <div class="edit-comment-hide">

        
<task-lists disabled="" sortable="">
<table class="d-block" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body user-select-contain">
          <p>Hello,</p>
<p>Maybe I know how to resolve the problem, just adding bus.sel.eq(0b1111) in case of memory writing and it works properly now.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


          
<div class="comment-reactions flex-items-center border-top  js-reactions-container">

    <details class="details-overlay details-reset dropdown hx_dropdown-fullscreen position-relative float-left d-inline-block reaction-popover-container reactions-menu js-reaction-popover-container">
      <summary class="btn-link reaction-summary-item add-reaction-btn" aria-label="Add your reaction" aria-haspopup="menu" role="button">
        <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-smiley">
    <path fill-rule="evenodd" d="M1.5 8a6.5 6.5 0 1113 0 6.5 6.5 0 01-13 0zM8 0a8 8 0 100 16A8 8 0 008 0zM5 8a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zM5.32 9.636a.75.75 0 011.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 111.222.87l-.614-.431c.614.43.614.431.613.431v.001l-.001.002-.002.003-.005.007-.014.019a1.984 1.984 0 01-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.32 3.32 0 01-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 01.183-1.044h.001z"></path>
</svg>
      </summary>
      
<details-menu class="js-add-reaction-popover anim-scale-in dropdown-menu dropdown-menu-ne ml-2 mb-0" aria-label="Pick your reaction" style="width: 150px" role="menu">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" action="https://github.com/enjoy-digital/litex/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="6ebveTCv+VsvCeJT/RpQ54yXjPIqHlfH5qoB8RXKUtKdreAzPk4Q5qME7JDun3hFuIyPdlmG76wB08hNnsFHwQ==">
    <p class="color-text-secondary mx-2 my-1">
      <span class="js-reaction-description">Pick your reaction</span>
    </p>

    <div role="none" class="dropdown-divider"></div>

    <div class="clearfix d-flex flex-wrap m-1 ml-2 mt-0">
      <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDY1MDc3MDQ3OQ==">

        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="+1" name="input[content]" aria-label="React with thumbs up emoji" value="THUMBS_UP react">
          <g-emoji alias="+1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44d.png" class="emoji"><img class="emoji" alt="+1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44d.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="-1" name="input[content]" aria-label="React with thumbs down emoji" value="THUMBS_DOWN react">
          <g-emoji alias="-1" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44e.png" class="emoji"><img class="emoji" alt="-1" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f44e.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Laugh" name="input[content]" aria-label="React with laugh emoji" value="LAUGH react">
          <g-emoji alias="smile" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" class="emoji"><img class="emoji" alt="smile" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f604.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Hooray" name="input[content]" aria-label="React with hooray emoji" value="HOORAY react">
          <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" class="emoji"><img class="emoji" alt="tada" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f389.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Confused" name="input[content]" aria-label="React with confused emoji" value="CONFUSED react">
          <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f615.png" class="emoji"><img class="emoji" alt="thinking_face" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f615.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Heart" name="input[content]" aria-label="React with heart emoji" value="HEART react">
          <g-emoji alias="heart" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2764.png" class="emoji"><img class="emoji" alt="heart" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/2764.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Rocket" name="input[content]" aria-label="React with rocket emoji" value="ROCKET react">
          <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png" class="emoji"><img class="emoji" alt="rocket" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f680.png"></g-emoji>
        </button>
        <button type="submit" role="menuitem" class="btn-link col-3 flex-content-center flex-items-center no-underline add-reactions-options-item js-reaction-option-item" data-reaction-label="Eyes" name="input[content]" aria-label="React with eyes emoji" value="EYES react">
          <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f440.png" class="emoji"><img class="emoji" alt="eyes" height="20" width="20" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1f440.png"></g-emoji>
        </button>
    </div>
</form></details-menu>

    </details>
</div>

      </div>

    </div>
</div>


</div>


</div>







  <!-- Rendered timeline since 2020-06-28 07:35:35 -->
  <div class="js-timeline-marker js-socket-channel js-updatable-content" id="partial-timeline" data-channel="eyJjIjoiaXNzdWU6NjQxNzU0MjU3IiwidCI6MTYyMjg0MDQ4Nn0=--743a9b8945197b19ea95579c9b7e22845d40c5e5c8f43608efb983eb3485c57d" data-url="/_render_node/MDU6SXNzdWU2NDE3NTQyNTc=/issues/unread_timeline?variables%5BdeferCommitBadges%5D=false&amp;variables%5BdeferStatusCheckRollups%5D=false&amp;variables%5BdeferredCommentActions%5D=true&amp;variables%5BhasFocusedReviewComment%5D=false&amp;variables%5BhasFocusedReviewThread%5D=false&amp;variables%5BtimelinePageSize%5D=30&amp;variables%5BtimelineSince%5D=2020-06-28T14%3A35%3A35Z" data-last-modified="Sun, 28 Jun 2020 14:35:35 GMT" data-gid="MDU6SXNzdWU2NDE3NTQyNTc=">
    <!-- '"` --><!-- </textarea></xmp> --><form class="d-none js-timeline-marker-form" action="https://github.com/_graphql/MarkNotificationSubjectAsRead" accept-charset="UTF-8" data-remote="true" method="post"><input type="hidden" name="authenticity_token" value="9QrzJaHP2BtGMFiQ9msIR/D2nOY+q0PC4t9bgBO6PT/KMVKOMjexAX5QHKdo7lLfvK9TWnGSgofK1Yr3Qu3XFA==">
      <input type="hidden" name="variables[subjectId]" value="MDU6SXNzdWU2NDE3NTQyNTc=">
</form>  </div>

</div>


              </div>


              <span id="issue-comment-box"></span>
              <div class="discussion-timeline-actions">
                        <div class="timeline-comment-wrapper timeline-new-comment js-comment-container js-targetable-element  ml-0 pl-0 ml-md-6 pl-md-3" id="issuecomment-new">
  <div class=" d-none d-md-block">
  <span class="timeline-comment-avatar "><a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/dayjaby/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dayjaby"><img class="avatar avatar-user" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/164396(2)" width="40" height="40" alt="@dayjaby"></a></span>
  </div>
    <div class="border-0 border-md timeline-comment timeline-comment--caret">
      <!-- '"` --><!-- </textarea></xmp> --><form class="js-new-comment-form js-needs-timeline-marker-header" action="https://github.com/enjoy-digital/litex/issue_comments" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="rS8qLmsLL751MZEO9RrkT5lVg5zMUIfbz3Bv7U4RpL04qDoAAD2MTR+ps1UaCmggzTMlVceANMFkC6I5BCA/cw==">
        <input type="text" name="required_field_f243" hidden="hidden" class="form-control"><input type="hidden" name="timestamp" value="1622840486478" class="form-control"><input type="hidden" name="timestamp_secret" value="83187c1d96f1ed33e9bf180251d6c745d16f2f31180b71a13ddc900524137192" class="form-control">
        <input type="hidden" name="issue" value="571">
          <fieldset class="min-width-0">
              <tab-container class="js-previewable-comment-form previewable-comment-form write-selected" data-preview-url="/preview?markdown_unsupported=false&amp;repository=45734719&amp;subject=571&amp;subject_type=Issue">
  <input type="hidden" value="tLtPGzMa52uEOQlRVTPXIB4w4LkylaEONS6BdbTN0h45tIYVG53ZEsI3E2tVpkzq1d2/sJQ1EWXFVZ42z/RiXw==" data-csrf="true" class="js-data-preview-url-csrf">
  <div class="comment-form-head tabnav d-flex flex-justify-between mb-2 p-0 tabnav--responsive flex-column border-bottom-0 mb-0 mb-lg-2 flex-items-stretch border-lg-bottom color-border-primary flex-lg-items-center flex-lg-row">
      <div class="tabnav-tabs mx-0 mx-md-2 mt-0 mt-md-2 no-wrap d-flex flex-auto d-md-block" role="tablist">
        <button type="button" class="btn-link tabnav-tab write-tab js-write-tab px-3 px-sm-6 px-md-3 flex-1 flex-md-auto" role="tab" aria-selected="true" tabindex="0">
          Write
        </button>
        <button type="button" class="btn-link tabnav-tab preview-tab js-preview-tab flex-1 flex-md-auto" role="tab" aria-selected="false" tabindex="-1">
          Preview
        </button>
      </div>
    <markdown-toolbar role="toolbar" aria-label="Composition" for="new_comment_field" data-view-component="true" class="js-details-container Details toolbar-commenting no-wrap border-md-top border-lg-top-0 d-flex px-2 pt-2 pt-lg-0 flex-items-start flex-wrap" tabindex="0">
  <div class="d-block d-md-none flex-auto">
    <button data-md-button="" tabindex="-1" type="button" aria-label="Toggle text tools" aria-expanded="false" class="js-details-target btn-link toolbar-item no-underline py-2 mr-1">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-typography">
    <path fill-rule="evenodd" d="M6.21 8.5L4.574 3.594 2.857 8.5H6.21zm.5 1.5l.829 2.487a.75.75 0 001.423-.474L5.735 2.332a1.216 1.216 0 00-2.302-.018l-3.39 9.688a.75.75 0 001.415.496L2.332 10H6.71zm3.13-4.358C10.53 4.374 11.87 4 13 4c1.5 0 3 .939 3 2.601v5.649a.75.75 0 01-1.448.275C13.995 12.82 13.3 13 12.5 13c-.77 0-1.514-.231-2.078-.709-.577-.488-.922-1.199-.922-2.041 0-.694.265-1.411.887-1.944C11 7.78 11.88 7.5 13 7.5h1.5v-.899c0-.54-.5-1.101-1.5-1.101-.869 0-1.528.282-1.84.858a.75.75 0 11-1.32-.716zM14.5 9H13c-.881 0-1.375.22-1.637.444-.253.217-.363.5-.363.806 0 .408.155.697.39.896.249.21.63.354 1.11.354.732 0 1.26-.209 1.588-.449.35-.257.412-.495.412-.551V9z"></path>
</svg>
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-chevron-up Details-content--shown">
    <path fill-rule="evenodd" d="M3.22 9.78a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0l4.25 4.25a.75.75 0 01-1.06 1.06L8 6.06 4.28 9.78a.75.75 0 01-1.06 0z"></path>
</svg>
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-chevron-down Details-content--hidden">
    <path fill-rule="evenodd" d="M12.78 6.22a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06 0L3.22 7.28a.75.75 0 011.06-1.06L8 9.94l3.72-3.72a.75.75 0 011.06 0z"></path>
</svg>
    </button>
  </div>

  

  <div class="flex-nowrap d-none d-md-inline-block mr-3">
    <md-header tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add header text" data-ga-click="Markdown Toolbar, click, header" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-heading">
    <path fill-rule="evenodd" d="M3.75 2a.75.75 0 01.75.75V7h7V2.75a.75.75 0 011.5 0v10.5a.75.75 0 01-1.5 0V8.5h-7v4.75a.75.75 0 01-1.5 0V2.75A.75.75 0 013.75 2z"></path>
</svg>
    </md-header>

    <md-bold tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1 js-modifier-label-key" aria-label="Add bold text &lt;ctrl+b&gt;" data-ga-click="Markdown Toolbar, click, bold" role="button" hotkey="b">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bold">
    <path fill-rule="evenodd" d="M4 2a1 1 0 00-1 1v10a1 1 0 001 1h5.5a3.5 3.5 0 001.852-6.47A3.5 3.5 0 008.5 2H4zm4.5 5a1.5 1.5 0 100-3H5v3h3.5zM5 9v3h4.5a1.5 1.5 0 000-3H5z"></path>
</svg>
    </md-bold>

    <md-italic tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1 js-modifier-label-key" aria-label="Add italic text &lt;ctrl+i&gt;" data-ga-click="Markdown Toolbar, click, italic" role="button" hotkey="i">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-italic">
    <path fill-rule="evenodd" d="M6 2.75A.75.75 0 016.75 2h6.5a.75.75 0 010 1.5h-2.505l-3.858 9H9.25a.75.75 0 010 1.5h-6.5a.75.75 0 010-1.5h2.505l3.858-9H6.75A.75.75 0 016 2.75z"></path>
</svg>
    </md-italic>
  </div>

  <div class="d-flex d-md-inline-block mr-0 mr-md-3">
    <md-quote tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 p-md-1 mx-1" aria-label="Insert a quote" data-ga-click="Markdown Toolbar, click, quote" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-quote">
    <path fill-rule="evenodd" d="M1.75 2.5a.75.75 0 000 1.5h10.5a.75.75 0 000-1.5H1.75zm4 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM2.5 7.75a.75.75 0 00-1.5 0v6a.75.75 0 001.5 0v-6z"></path>
</svg>
    </md-quote>

    <md-code tabindex="-1" class="toolbar-item tooltipped tooltipped-sw js-modifier-label-key p-2 p-md-1 mx-1" aria-label="Insert code &lt;ctrl+e&gt;" data-ga-click="Markdown Toolbar, click, code" role="button" hotkey="e">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-code">
    <path fill-rule="evenodd" d="M4.72 3.22a.75.75 0 011.06 1.06L2.06 8l3.72 3.72a.75.75 0 11-1.06 1.06L.47 8.53a.75.75 0 010-1.06l4.25-4.25zm6.56 0a.75.75 0 10-1.06 1.06L13.94 8l-3.72 3.72a.75.75 0 101.06 1.06l4.25-4.25a.75.75 0 000-1.06l-4.25-4.25z"></path>
</svg>
    </md-code>

    <button type="button" data-md-button="" tabindex="-1" class="toolbar-item text-center menu-target p-2 mx-1 d-md-none js-markdown-link-button" aria-label="Add a link" data-ga-click="Markdown Toolbar, click, saved reply">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-link">
    <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
</svg>
    </button>

    <template class="js-markdown-link-dialog"></template>

    <md-link tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 p-md-1 d-none d-md-block mx-1 js-modifier-label-key" aria-label="Add a link &lt;ctrl+k&gt;" data-ga-click="Markdown Toolbar, click, link" role="button" hotkey="k">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-link">
    <path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path>
</svg>
    </md-link>
  </div>

  <div class="d-none d-md-inline-block mr-3">
    <md-unordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add a bulleted list" data-ga-click="Markdown Toolbar, click, unordered list" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-unordered">
    <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
    </md-unordered-list>

    <md-ordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add a numbered list" data-ga-click="Markdown Toolbar, click, ordered list" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-ordered">
    <path fill-rule="evenodd" d="M2.003 2.5a.5.5 0 00-.723-.447l-1.003.5a.5.5 0 00.446.895l.28-.14V6H.5a.5.5 0 000 1h2.006a.5.5 0 100-1h-.503V2.5zM5 3.25a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 3.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 8.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5a.75.75 0 01-.75-.75zM.924 10.32l.003-.004a.851.851 0 01.144-.153A.66.66 0 011.5 10c.195 0 .306.068.374.146a.57.57 0 01.128.376c0 .453-.269.682-.8 1.078l-.035.025C.692 11.98 0 12.495 0 13.5a.5.5 0 00.5.5h2.003a.5.5 0 000-1H1.146c.132-.197.351-.372.654-.597l.047-.035c.47-.35 1.156-.858 1.156-1.845 0-.365-.118-.744-.377-1.038-.268-.303-.658-.484-1.126-.484-.48 0-.84.202-1.068.392a1.858 1.858 0 00-.348.384l-.007.011-.002.004-.001.002-.001.001a.5.5 0 00.851.525zM.5 10.055l-.427-.26.427.26z"></path>
</svg>
    </md-ordered-list>

    <md-task-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw mx-1" aria-label="Add a task list" data-ga-click="Markdown Toolbar, click, task list" role="button" hotkey="L">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-tasklist">
    <path fill-rule="evenodd" d="M2.5 2.75a.25.25 0 01.25-.25h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75zM2.75 1A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1H2.75zm9.03 5.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"></path>
</svg>
    </md-task-list>
  </div>

        <div class="d-flex d-xs-inline-block">
          <md-mention tabindex="-1" class="flex-auto text-center toolbar-item tooltipped tooltipped-sw p-2 p-md-1 mx-1" aria-label="Directly mention a user or team" data-ga-click="Markdown Toolbar, click, mention" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-mention">
    <path fill-rule="evenodd" d="M4.75 2.37a6.5 6.5 0 006.5 11.26.75.75 0 01.75 1.298 8 8 0 113.994-7.273.754.754 0 01.006.095v1.5a2.75 2.75 0 01-5.072 1.475A4 4 0 1112 8v1.25a1.25 1.25 0 002.5 0V7.867a6.5 6.5 0 00-9.75-5.496V2.37zM10.5 8a2.5 2.5 0 10-5 0 2.5 2.5 0 005 0z"></path>
</svg>
          </md-mention>

          <label for="fc-new_comment_field" data-md-button="" tabindex="-1" class="d-block d-md-none btn-link flex-auto text-center toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Attach an image">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-image">
    <path fill-rule="evenodd" d="M1.75 2.5a.25.25 0 00-.25.25v10.5c0 .138.112.25.25.25h.94a.76.76 0 01.03-.03l6.077-6.078a1.75 1.75 0 012.412-.06L14.5 10.31V2.75a.25.25 0 00-.25-.25H1.75zm12.5 11H4.81l5.048-5.047a.25.25 0 01.344-.009l4.298 3.889v.917a.25.25 0 01-.25.25zm1.75-.25V2.75A1.75 1.75 0 0014.25 1H1.75A1.75 1.75 0 000 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0016 13.25zM5.5 6a.5.5 0 11-1 0 .5.5 0 011 0zM7 6a2 2 0 11-4 0 2 2 0 014 0z"></path>
</svg>
          </label>

          <md-ref tabindex="-1" class="flex-auto text-center toolbar-item tooltipped tooltipped-sw p-2 p-md-1 mx-1" aria-label="Reference an issue, pull request, or discussion" data-ga-click="Markdown Toolbar, click, reference" role="button">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-cross-reference">
    <path fill-rule="evenodd" d="M16 1.25v4.146a.25.25 0 01-.427.177L14.03 4.03l-3.75 3.75a.75.75 0 11-1.06-1.06l3.75-3.75-1.543-1.543A.25.25 0 0111.604 1h4.146a.25.25 0 01.25.25zM2.75 3.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h4.5a.25.25 0 00.25-.25v-2.5a.75.75 0 111.5 0v2.5A1.75 1.75 0 0113.25 13H9.06l-2.573 2.573A1.457 1.457 0 014 14.543V13H2.75A1.75 1.75 0 011 11.25v-7.5C1 2.784 1.784 2 2.75 2h5.5a.75.75 0 010 1.5h-5.5z"></path>
</svg>
          </md-ref>

          <details class="details-reset details-overlay flex-auto toolbar-item select-menu select-menu-modal-right js-saved-reply-container hx_rsm" tabindex="-1">
  <summary data-md-button="" tabindex="-1" class="text-center tooltipped tooltipped-sw menu-target py-2 p-md-1 hx_rsm-trigger ml-1" aria-label="Insert a reply" data-ga-click="Markdown Toolbar, click, saved reply" aria-haspopup="menu" role="button">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-reply">
    <path fill-rule="evenodd" d="M6.78 1.97a.75.75 0 010 1.06L3.81 6h6.44A4.75 4.75 0 0115 10.75v2.5a.75.75 0 01-1.5 0v-2.5a3.25 3.25 0 00-3.25-3.25H3.81l2.97 2.97a.75.75 0 11-1.06 1.06L1.47 7.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 0z"></path>
</svg>
    <span class="dropdown-caret hide-sm"></span>
  </summary>

  <details-menu style="z-index: 99;" class="select-menu-modal position-absolute right-0 js-saved-reply-menu hx_rsm-modal" data-menu-input="new_comment_field_saved_reply_id" src="/settings/replies?context=issue" preload="" role="menu">
    <div class="select-menu-header d-flex">
      <span class="select-menu-title flex-auto">Select a reply</span>
      <code><span class="border rounded p-1 mr-2">ctrl .</span></code>
    </div>

    <include-fragment role="menuitem" aria-label="Loading">
      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="32" height="32" class="my-6 mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
    </include-fragment>

  </details-menu>
</details>


      </div>


  <div class="Details-content--hidden d-block d-md-none width-full">
    <md-header tabindex="-1" class="toolbar-item tooltipped tooltipped-sw py-2 pr-2 pl-1 mr-1" aria-label="Add header text" data-ga-click="Markdown Toolbar, click, header" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-heading">
    <path fill-rule="evenodd" d="M3.75 2a.75.75 0 01.75.75V7h7V2.75a.75.75 0 011.5 0v10.5a.75.75 0 01-1.5 0V8.5h-7v4.75a.75.75 0 01-1.5 0V2.75A.75.75 0 013.75 2z"></path>
</svg>
    </md-header>

    <md-bold tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1 js-modifier-label-key" aria-label="Add bold text &lt;ctrl+b&gt;" data-ga-click="Markdown Toolbar, click, bold" role="button" hotkey="b">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bold">
    <path fill-rule="evenodd" d="M4 2a1 1 0 00-1 1v10a1 1 0 001 1h5.5a3.5 3.5 0 001.852-6.47A3.5 3.5 0 008.5 2H4zm4.5 5a1.5 1.5 0 100-3H5v3h3.5zM5 9v3h4.5a1.5 1.5 0 000-3H5z"></path>
</svg>
    </md-bold>

    <md-italic tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1 js-modifier-label-key" aria-label="Add italic text &lt;ctrl+i&gt;" data-ga-click="Markdown Toolbar, click, italic" role="button" hotkey="i">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-italic">
    <path fill-rule="evenodd" d="M6 2.75A.75.75 0 016.75 2h6.5a.75.75 0 010 1.5h-2.505l-3.858 9H9.25a.75.75 0 010 1.5h-6.5a.75.75 0 010-1.5h2.505l3.858-9H6.75A.75.75 0 016 2.75z"></path>
</svg>
    </md-italic>

    <md-unordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Add a bulleted list" data-ga-click="Markdown Toolbar, click, unordered list" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-unordered">
    <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
</svg>
    </md-unordered-list>

    <md-ordered-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Add a numbered list" data-ga-click="Markdown Toolbar, click, ordered list" role="button">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-list-ordered">
    <path fill-rule="evenodd" d="M2.003 2.5a.5.5 0 00-.723-.447l-1.003.5a.5.5 0 00.446.895l.28-.14V6H.5a.5.5 0 000 1h2.006a.5.5 0 100-1h-.503V2.5zM5 3.25a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 3.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5A.75.75 0 015 8.25zm0 5a.75.75 0 01.75-.75h8.5a.75.75 0 010 1.5h-8.5a.75.75 0 01-.75-.75zM.924 10.32l.003-.004a.851.851 0 01.144-.153A.66.66 0 011.5 10c.195 0 .306.068.374.146a.57.57 0 01.128.376c0 .453-.269.682-.8 1.078l-.035.025C.692 11.98 0 12.495 0 13.5a.5.5 0 00.5.5h2.003a.5.5 0 000-1H1.146c.132-.197.351-.372.654-.597l.047-.035c.47-.35 1.156-.858 1.156-1.845 0-.365-.118-.744-.377-1.038-.268-.303-.658-.484-1.126-.484-.48 0-.84.202-1.068.392a1.858 1.858 0 00-.348.384l-.007.011-.002.004-.001.002-.001.001a.5.5 0 00.851.525zM.5 10.055l-.427-.26.427.26z"></path>
</svg>
    </md-ordered-list>

    <md-task-list tabindex="-1" class="toolbar-item tooltipped tooltipped-sw p-2 mx-1" aria-label="Add a task list" data-ga-click="Markdown Toolbar, click, task list" role="button" hotkey="L">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-tasklist">
    <path fill-rule="evenodd" d="M2.5 2.75a.25.25 0 01.25-.25h10.5a.25.25 0 01.25.25v10.5a.25.25 0 01-.25.25H2.75a.25.25 0 01-.25-.25V2.75zM2.75 1A1.75 1.75 0 001 2.75v10.5c0 .966.784 1.75 1.75 1.75h10.5A1.75 1.75 0 0015 13.25V2.75A1.75 1.75 0 0013.25 1H2.75zm9.03 5.28a.75.75 0 00-1.06-1.06L6.75 9.19 5.28 7.72a.75.75 0 00-1.06 1.06l2 2a.75.75 0 001.06 0l4.5-4.5z"></path>
</svg>
    </md-task-list>
  </div>
</markdown-toolbar>
  </div>

  <div class="comment-form-error js-comment-form-error" role="alert" hidden="">
    There was an error creating your Issue.
  </div>


  <file-attachment class="js-upload-markdown-image is-default" input="fc-new_comment_field" role="tabpanel" data-tab-container-no-tabstop="true" data-upload-repository-id="45734719" data-upload-policy-url="/upload/policies/assets"><input type="hidden" value="/H8ayegz6LX4tnbf7npUVtIAOv+wjgeM8/MXsEcq1appCR1mU20VKMsQ+hi1LJU2HDrKJxNAdE9qz+Vg4R7P+Q==" data-csrf="true" class="js-data-upload-policy-url-csrf">
    <div class="write-content js-write-bucket tooltipped tooltipped-ne tooltipped-no-delay tooltipped-align-left-1 hide-reaction-suggestion upload-enabled mx-0 mt-2 mb-2 mx-md-2 hx_sm-hide-drag-drop js-reaction-suggestion" data-reaction-markup="Would you like to leave a reaction instead?">
        <input type="hidden" name="saved_reply_id" id="new_comment_field_saved_reply_id" class="js-resettable-field" value="" data-reset-value="">

      <text-expander keys=": @ #" data-issue-url="/suggestions/issue/641754257?issue_suggester=1&amp;repository=litex&amp;user_id=enjoy-digital" data-mention-url="/suggestions/issue/641754257?mention_suggester=1&amp;repository=litex&amp;user_id=enjoy-digital" multiword="#" data-emoji-url="/autocomplete/emoji">
          
          <textarea name="comment[body]" id="new_comment_field" placeholder="Leave a comment" aria-label="Comment body" data-required-trimmed="Text field is empty" class="form-control input-contrast comment-form-textarea js-comment-field js-paste-markdown js-task-list-field js-quick-submit js-size-to-fit js-session-resumable js-saved-reply-shortcut-comment-field" required=""></textarea>

      </text-expander>
        
  <label class="text-normal drag-and-drop hx_drag-and-drop position-relative d-flex flex-justify-between">
    <input accept=".gif,.jpeg,.jpg,.mov,.mp4,.png,.csv,.docx,.fodg,.fodp,.fods,.fodt,.gz,.log,.md,.odf,.odg,.odp,.ods,.odt,.pdf,.pptx,.txt,.xls,.xlsx,.zip" type="file" multiple="" class="manual-file-chooser manual-file-chooser-transparent top-0 right-0 bottom-0 left-0 width-full ml-0 form-control rounded-top-0" id="fc-new_comment_field">
    <span class="color-bg-secondary position-absolute top-0 left-0 rounded-bottom-2 width-full height-full" style="pointer-events: none;"></span>
    <span class="position-relative pr-2" style="pointer-events: none;">
      <span class="default">
        
        Attach files by dragging &amp; dropping, selecting or pasting them.
      </span>
      <span class="loading">
        <svg style="box-sizing: content-box; color: var(--color-icon-primary);" viewBox="0 0 16 16" fill="none" data-view-component="true" width="16" height="16" class="v-align-text-bottom mr-1 anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg> Uploading your files…
      </span>
      <span class="error bad-file">
        We don’t support that file type.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a
          GIF, JPEG, JPG, MOV, MP4, PNG, CSV, DOCX, FODG, FODP, FODS, FODT, GZ, LOG, MD, ODF, ODG, ODP, ODS, ODT, PDF, PPTX, TXT, XLS, XLSX or ZIP.
        </span>
      </span>
      <span class="error bad-permissions">
        Attaching documents requires write permission to this repository.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a GIF, JPEG, JPG, MOV, MP4, PNG, CSV, DOCX, FODG, FODP, FODS, FODT, GZ, LOG, MD, ODF, ODG, ODP, ODS, ODT, PDF, PPTX, TXT, XLS, XLSX or ZIP.
        </span>
      </span>
      <span class="error repository-required">
        We don’t support that file type.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a GIF, JPEG, JPG, MOV, MP4, PNG, CSV, DOCX, FODG, FODP, FODS, FODT, GZ, LOG, MD, ODF, ODG, ODP, ODS, ODT, PDF, PPTX, TXT, XLS, XLSX or ZIP.
        </span>
      </span>
      <span class="error too-big js-upload-too-big">
      </span>
      <span class="error empty">
        This file is empty.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with a file that’s not empty.
        </span>
      </span>
      <span class="error hidden-file">
        This file is hidden.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again</span> with another file.
        </span>
      </span>
      <span class="error failed-request">
        Something went really wrong, and we can’t process that file.
        <span class="drag-and-drop-error-info">
          <span class="btn-link">Try again.</span>
        </span>
      </span>
    </span>
    <span class="tooltipped tooltipped-nw" aria-label="Styling with Markdown is supported">
      <a class="Link--muted position-relative d-inline" href="https://guides.github.com/features/mastering-markdown/" target="_blank" data-ga-click="Markdown Toolbar, click, help" aria-label="Learn about styling with Markdown">
        <svg class="octicon octicon-markdown v-align-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg>
      </a>
    </span>
  </label>

    </div>
</file-attachment>
  <div role="tabpanel" class="js-preview-panel overflow-auto border-bottom mx-0 my-3 mx-md-2 mb-md-2" hidden="">
    <input type="hidden" name="path" value="" class="js-path">
    <input type="hidden" name="line" value="" class="js-line-number">
    <input type="hidden" name="start_line" value="" class="js-start-line-number">
    <input type="hidden" name="preview_side" value="" class="js-side">
    <input type="hidden" name="preview_start_side" value="" class="js-start-side">
    <input type="hidden" name="start_commit_oid" value="" class="js-start-commit-oid">
    <input type="hidden" name="end_commit_oid" value="" class="js-end-commit-oid">
    <input type="hidden" name="base_commit_oid" value="" class="js-base-commit-oid">
    <input type="hidden" name="comment_id" value="" class="js-comment-id">
    <div class="comment js-suggested-changes-container" data-thread-side="">
  <div class="comment-body markdown-body js-preview-body">
    <p>Nothing to preview</p>
  </div>
</div>

  </div>


  <div class="comment-form-error mb-2 js-comment-update-error" hidden=""></div>
</tab-container>

          </fieldset>
          <div class="form-actions m-0 mx-md-2 my-md-2 p-0">
              <div id="partial-new-comment-form-actions" class="js-socket-channel js-updatable-content" data-channel="eyJjIjoiaXNzdWU6NjQxNzU0MjU3OnN0YXRlIiwidCI6MTYyMjg0MDQ4Nn0=--c2839adc2d4a39efc0030a703b12e4835e2cb1e8677038a68bcb79454d96a0eb" data-url="/enjoy-digital/litex/issues/571/show_partial?partial=issues%2Fform_actions">

  <div class="d-flex flex-justify-end">
    <div class="color-bg-secondary">
        
    </div>
    <div class="color-bg-secondary ml-1">
      <button type="submit" class="btn btn-primary" data-disable-with="" data-disable-invalid="" disabled="">
        Comment
      </button>
    </div>
  </div>
</div>

          </div>
</form>    </div>
        
<div class="text-small color-text-secondary mx-md-2 mt-md-2 mb-2 mt-3">
  <svg class="octicon octicon-info mr-1" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>Remember, contributions to this repository should follow
    our
    <a href="https://docs.github.com/articles/github-community-guidelines" data-ga-click="Issue, click github_community_guidelines link in composer footer, repo:enjoy-digital/litex">GitHub Community Guidelines</a>.
</div>


</div>


              </div>
            </div>
</div>

    <div data-view-component="true" class="flex-shrink-0 col-12 col-md-3">              
<div id="partial-discussion-sidebar" class="js-socket-channel js-updatable-content" data-channel="eyJjIjoiaXNzdWU6NjQxNzU0MjU3IiwidCI6MTYyMjg0MDQ4Nn0=--743a9b8945197b19ea95579c9b7e22845d40c5e5c8f43608efb983eb3485c57d" data-gid="MDU6SXNzdWU2NDE3NTQyNTc=" data-url="/enjoy-digital/litex/issues/571/show_partial?partial=issues%2Fsidebar" data-project-hovercards-enabled="">



    <div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select assignees" action="https://github.com/enjoy-digital/litex/issues/571/assignees" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="wEQi1LBVvLCEQoEfEm75p5VuALFwnA+sOS/0t7GD4myJ2xvKx6eUiNwcYcFtUITbr/ZihQ72ksAWBqHMJ7vuqg==">

      
  <div class="discussion-sidebar-heading text-bold">
    Assignees
  </div>


      
<span class="css-truncate js-issue-assignees">
    No one assigned
</span>


</form></div>


      <div class="discussion-sidebar-item js-discussion-sidebar-item">
  


  <div class="discussion-sidebar-heading text-bold">
    Labels
  </div>

  <div class="js-issue-labels d-flex flex-wrap">
      <a href="https://github.com/enjoy-digital/litex/labels/enhancement" data-name="enhancement" style="--label-r:0;--label-g:188;--label-b:212;--label-h:186;--label-s:100;--label-l:41;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1">
    <span class="css-truncate css-truncate-target width-fit">enhancement</span>
</a>  <a href="https://github.com/enjoy-digital/litex/labels/question" data-name="question" style="--label-r:232;--label-g:236;--label-b:241;--label-h:213;--label-s:24;--label-l:92;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1">
    <span class="css-truncate css-truncate-target width-fit">question</span>
</a>
</div>

</div>


      
<div class="discussion-sidebar-item js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select projects" action="https://github.com/enjoy-digital/litex/projects/issues/571" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="s8a2FVSBscSizcLrZr3hCVDyDv2dyq7fQg/uhE+pLaNvA2+yQsTx2HCzFJ5G6Q4NTHMK+vFBQ0/B8ZQn/10sew==">
      <div class="discussion-sidebar-heading text-bold">
    Projects
  </div>

    
<span class="css-truncate sidebar-progress-bar">
    None yet

</span>

</form></div>



      <div class="discussion-sidebar-item sidebar-progress-bar js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select milestones" action="https://github.com/enjoy-digital/litex/issues/571/set_milestone?partial=issues%2Fsidebar%2Fshow%2Fmilestone" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="/78xESO45j1ji8F0qqzcE3+tikplaijhNCb1MOFTBafQ9OfRk81yR2CPPK7ICxSHo8fxVW6fiX6VhrVVOD1x5g==">
      <div class="discussion-sidebar-heading text-bold">
    Milestone
  </div>

      No milestone

</form></div>


      
<div class="discussion-sidebar-item js-discussion-sidebar-item" data-issue-and-pr-hovercards-enabled="">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Link issues" action="https://github.com/enjoy-digital/litex/issues/closing_references?source_id=641754257&amp;source_type=ISSUE" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put"><input type="hidden" name="authenticity_token" value="hX1jiDSa7Vh/Id1gFxLHe4d+eJMtTXnEyXXrYhf/H6PVkNbnALDvs43ie/31GF+UU/ML80kRkUHnBIYzFHW3kg==">
    
  <div class="discussion-sidebar-heading text-bold">
    Linked pull requests
  </div>


      
<p>Successfully merging a pull request may close this issue.</p>

  None yet

</form>
</div>


      <div class="discussion-sidebar-item sidebar-notifications">
    <div class="thread-subscription-status js-socket-channel js-updatable-content" data-replace-remote-form-target="" data-channel="eyJjIjoibGlzdC1zdWJzY3JpcHRpb246cmVwb3NpdG9yeTo0NTczNDcxOToxNjQzOTYiLCJ0IjoxNjIyODQwNDg2fQ==--efa10002e62ff172598b2b099d4959e8e4162e0cd6f469f9e378997bac38b5ac eyJjIjoidGhyZWFkLXN1YnNjcmlwdGlvbjo2NDE3NTQyNTc6MTY0Mzk2IiwidCI6MTYyMjg0MDQ4Nn0=--834c1bf564089032ee9ec41f23fd22d4a73d391d8f0dc8d8bff77dc820b1b6e1" data-url="/notifications/thread_subscription?repository_id=45734719&amp;thread_class=Issue&amp;thread_id=641754257">
    <div>
  <div class="d-flex position-relative">
    <details data-view-component="true" class="lh-default width-full details-overlay details-overlay-dark details-reset color-text-primary">
  <summary aria-label="Customize notification settings" role="button" data-view-component="true" class="discussion-sidebar-heading discussion-sidebar-toggle">        <div class="d-flex flex-justify-between">
          <div class="text-bold">Notifications</div>
          <span>Customize</span>
        </div>
</summary>
  <details-dialog src="/notifications/thread_subscription_dialog?repository_id=45734719&amp;thread_class=Issue&amp;thread_id=641754257" aria-label="Notification settings" data-view-component="true" class="Box Box--overlay flex-column anim-fade-in fast overflow-auto d-flex f5" role="dialog" aria-modal="true">        <div class="Box-header">
          <button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="Close dialog" data-close-dialog="">
            <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
          </button>
          <h3 class="Box-title mb-0 mt-0">
            Notification settings
          </h3>
        </div>

        <include-fragment aria-label="Loading">
          <div class="d-flex flex-items-center flex-justify-center" style="min-height: 315px;">
            <img alt="Loading..." src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/octocat-spinner-64.gif" width="32" height="32">
          </div>
        </include-fragment>
</details-dialog>
</details>  </div>
</div>

    <form data-replace-remote-form="true" class="thread-subscribe-form" action="https://github.com/notifications/thread" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="Ndyca/z7RRTFewtr+5neIbFj7e7a1u8br2BM6oIWOSQBA9H27SSiqgQHihvvSdg29ZbWxSRUOImZ1DuDQHxFEA==">      <input type="hidden" name="repository_id" value="45734719">
      <input type="hidden" name="thread_id" value="641754257">
      <input type="hidden" name="thread_class" value="Issue">
      <input type="hidden" name="id" value="unsubscribe">
      <button type="submit" class="btn btn-block btn-sm thread-subscribe-button" data-disable-with="">
          <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-bell-slash">
    <path fill-rule="evenodd" d="M8 1.5c-.997 0-1.895.416-2.534 1.086A.75.75 0 014.38 1.55 5 5 0 0113 5v2.373a.75.75 0 01-1.5 0V5A3.5 3.5 0 008 1.5zM4.182 4.31L1.19 2.143a.75.75 0 10-.88 1.214L3 5.305v2.642a.25.25 0 01-.042.139L1.255 10.64A1.518 1.518 0 002.518 13h11.108l1.184.857a.75.75 0 10.88-1.214l-1.375-.996a1.196 1.196 0 00-.013-.01L4.198 4.321a.733.733 0 00-.016-.011zm7.373 7.19L4.5 6.391v1.556c0 .346-.102.683-.294.97l-1.703 2.556a.018.018 0 00-.003.01.015.015 0 00.005.012.017.017 0 00.006.004l.007.001h9.037zM8 16a2 2 0 001.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 008 16z"></path>
</svg> Unsubscribe
      </button>
</form>    <p class="reason text-small color-text-secondary">You’re receiving notifications because you’re watching this repository.</p>
</div>

  </div>


    <div id="partial-users-participants" class="discussion-sidebar-item">
  <div class="participation">
    <div class="discussion-sidebar-heading text-bold">
      2 participants
    </div>
    <div class="participation-avatars d-flex flex-wrap">
        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/enjoy-digital/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/enjoy-digital">
          <img class="avatar avatar-user" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/1450143(2)" width="26" height="26" alt="@enjoy-digital"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/kamejoko80/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kamejoko80">
          <img class="avatar avatar-user" src="./SPI master with DMA implementation · Issue #571 · enjoy-digital_litex_files/4348372(2)" width="26" height="26" alt="@kamejoko80"> 
</a>    </div>
  </div>
</div>


    

    



    

</div>

</div>
</div>      </div>
    </div>


    </div>


  </div>
</div>

    </main>
  </div>

  </div>

          
<div class="footer container-xl width-full p-responsive" role="contentinfo">
  <div class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between pt-6 pb-2 mt-6 f6 color-text-secondary border-top color-border-secondary ">
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      <li class="mr-3 mr-lg-0">© 2021 GitHub, Inc.</li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-terms-of-service" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/en/github/site-policy/github-privacy-statement" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3 mr-lg-0"><a data-ga-click="Footer, go to security, text:security" href="https://github.com/security">Security</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://www.githubstatus.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:Docs" href="https://docs.github.com/">Docs</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mx-lg-4" href="https://github.com/">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="24" width="24" class="octicon octicon-mark-github">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
</a>
    <ul class="list-style-none d-flex flex-wrap col-12 col-lg-5 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
        <li class="mr-3 mr-lg-0"><a href="https://support.github.com/" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.com/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://docs.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3 mr-lg-0"><a href="https://services.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3 mr-lg-0"><a href="https://github.blog/" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 color-text-tertiary"></span>
  </div>

  
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden="">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-x">
    <path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

  <div class="js-stale-session-flash flash flash-warn flash-banner" hidden="">
    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" data-view-component="true" height="16" width="16" class="octicon octicon-alert">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg>
    <span class="js-stale-session-flash-signed-in" hidden="">You signed in with another tab or window. <a href="https://github.com/enjoy-digital/litex/issues/571">Reload</a> to refresh your session.</span>
    <span class="js-stale-session-flash-signed-out" hidden="">You signed out in another tab or window. <a href="https://github.com/enjoy-digital/litex/issues/571">Reload</a> to refresh your session.</span>
  </div>
    <template id="site-details-dialog"></template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button"></template>



  

  


<div aria-live="polite" class="sr-only"></div></body></html>